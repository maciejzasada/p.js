!function(exports,global){global["true"]=exports;var module=module||{},window=window||{},poof,CONFIG;module.exports="undefined"==typeof global?window||{}:global,poof={},poof.__defineGetter__("VERSION_TYPE",function(){return"Alpha"}),poof.__defineGetter__("VERSION",function(){return parseInt("0",10)}),poof.__defineGetter__("REVISION",function(){return parseInt("4",10)}),poof.__defineGetter__("BUILD",function(){return parseInt("14",10)}),poof.__defineGetter__("VERSION_STRING",function(){return poof.VERSION_TYPE+" "+poof.VERSION+"."+poof.REVISION+"."+poof.BUILD}),module.exports.poof=poof;var STATIC=1,INSTANCE=2,PUBLIC=1,PROTECTED=2,PRIVATE=3,SCOPES=[{field:"static$",type:STATIC},{field:"instance$",type:INSTANCE}],ACCESSIBILITIES=[{field:"public$",type:PUBLIC},{field:"protected$",type:PROTECTED},{field:"private$",type:PRIVATE}],STRINGS={ERROR_INTERFACE_MISSING_IMPLEMENTATION:"Missing implementation of instance method {prop} in definition of class {name}",ERROR_INTERFACE_ARGUMENTS_NUM:"Number of arguments in definition of method {prop} in definition of class {name} does not match the interface",ERROR_IMPLICIT_OVERRIDE:"Illegal attempt to implicitly override method {prop} originally defined in the base class by class {name}. Overriding has to be marked explicitly by defining the new implementation within the override$ tag.",ERROR_OVERRIDE_NOT_EXISTING:"Attempt to override method {prop} that has not been defined in {class}'s base class",ERROR_OVERRIDE_PROPERTY:"Illegal attempt to override property {prop} by class {name}. Only methods can be overridden.",ERROR_OVERRIDE_STATIC:"Illegal attempt to override a static property by class {name}",ERROR_PROPERTY_REDEFINE:"Illegal attempt to redefine property {prop} by class {name}. Property already defined in the base class.",ERROR_ACCESSIBILITY_1_2:"Illegal attempt to access protected static property {prop} from outside {name}'s inheritance chain",ERROR_ACCESSIBILITY_1_3:"Illegal attempt to access private static property {prop} from outside class {name}",ERROR_ACCESSIBILITY_2_2:"Illegal attempt to access protected property {prop} from outside {name}'s inheritance chain",ERROR_ACCESSIBILITY_2_3:"Illegal attempt to access private property {prop} from outside class {name}",ERROR_CONSTANT_MODIFICATION:"Illegal attempt to modify constant property {prop} on class {name}",ERROR_CONSTANT_METHOD:"Function cannot be constant. Evaluating definition of {prop} in definition of class {class}",ERROR_EXTEND_FINAL:"Invalid attempt to extend a final class {base} by class {name}",ERROR_EXTEND_CONSTRUCTOR_EXCEPTION:"Error during establishing inheritance for class {name}. Base class constructor has raised an exception when invoked with no arguments.",ERROR_EXTEND_INVALID_TYPE:"Base class for class {name} is of invalid type",ERROR_DEFINITION_INVALID_CLASS_NAME:"Invalid class name: {name}",ERROR_DEFINITION_INVALID_CLASS_TYPE:"Invalid class type specified for class {name}",ERROR_DEFINITION_INVALID_META:"Invalid or no meta object specified for class {name}",ERROR_DEFINITION_INVALID_DEFINITION:"Invalid or no definition specified for class {name}",ERROR_DEFINITION_DUPLICATE:"Illegal attempt to redefine property {prop} on class {name}",ERROR_INSTANTIATION_DIRECT_ABSTRACT:"Illegal attempt to directly instantiate an abstract class {name}",ERROR_INSTANTIATION_DIRECT_SINGLETON:"Illegal attempt to directly instantiate a Singleton class {name}"},refIdSeed=1,constructorsById,duringSingletonInstantiation=!1,duringExtension=!1,callStack=[],isInProtectedScope,isInPrivateScope,isInScope,createIdentifiableFunction,createAccessibleProperty,transcribeProperty,overrideProperty,defineClass,class$;constructorsById={},createIdentifiableFunction=function(e,t){return function(){var n;return callStack.push(e),n=t.apply(this,arguments),callStack.pop(),n}},isInProtectedScope=function(e){return 0!==callStack.length&&(e===callStack[callStack.length-1]||callStack[callStack.length-1]instanceof e.constructor)},isInPrivateScope=function(e){return 0!==callStack.length&&e===callStack[callStack.length-1]},isInScope=function(e,t){switch(t){case PROTECTED:return isInProtectedScope(e);case PRIVATE:return isInPrivateScope(e)}},createAccessibleProperty=function(e,t,n,r,i,o,s){switch(i){case PUBLIC:s?(e.__defineGetter__(n,function(){return r}),e.__defineSetter__(n,function(){throw new Error(STRINGS.ERROR_CONSTANT_MODIFICATION.replace("{prop}",n).replace("{name}",t))})):e[n]=r;break;case PROTECTED:case PRIVATE:e.__defineGetter__(n,function(){if(isInScope(e,i))return r;throw new Error(STRINGS["ERROR_ACCESSIBILITY_"+o.toString()+"_"+i.toString()].replace("{prop}",n).replace("{name}",t))}),s?e.__defineSetter__(n,function(){throw new Error(STRINGS.ERROR_CONSTANT_MODIFICATION.replace("{prop}",n).replace("{name}",t))}):e.__defineSetter__(n,function(r){if(!isInScope(e,i))throw new Error(STRINGS["ERROR_ACCESSIBILITY_"+o.toString()+"_"+i.toString()].replace("{prop}",n).replace("{name}",t));e.__defineGetter__(n,function(){if(isInScope(e,i))return r;throw new Error(STRINGS["ERROR_ACCESSIBILITY_"+o.toString()+"_"+i.toString()].replace("{prop}",n).replace("{name}",t))})})}},transcribeProperty=function(e,t,n,r,i,o,s){if(t!==n){if(!s&&void 0!==e[n])throw"function"==typeof e[n]?new Error(STRINGS.ERROR_IMPLICIT_OVERRIDE.replace("{prop}",n).replace("{name}",t)):new Error(STRINGS.ERROR_PROPERTY_REDEFINE.replace("{prop}",n).replace("{name}",t));if(n.toUpperCase()===n){if("function"==typeof r)throw new Error(STRINGS.ERROR_CONSTANT_METHOD.replace("{prop}",n).replace("{name}",t));createAccessibleProperty(e,t,n,r,i,o,!0)}else if("function"==typeof r)if(s){if(!e[n])throw new Error(STRINGS.ERROR_OVERRIDE_NOT_EXISTING.replace("{prop}",n).replace("{name}",t));var a=e[n];createAccessibleProperty(e,t,n,createIdentifiableFunction(e,r),i,o,!1),e[n].super$=function(){return a.apply(this,arguments)}}else createAccessibleProperty(e,t,n,createIdentifiableFunction(e,r),i,o,!1);else createAccessibleProperty(e,t,n,r,i,o,!1)}},overrideProperty=function(e,t,n,r,i){if("function"!=typeof r)throw new Error(STRINGS.ERROR_OVERRIDE_PROPERTY.replace("{prop}",n).replace("{name}",t));transcribeProperty(e,t,n,r,i,INSTANCE,!0)},defineClass=function(e,t,n,r,i){var o,s,a,l,c,d,u,p,f,h,g,m=r&&r.extends$?r.extends$:null;if(r&&r.implements$)for(h=0;h<r.implements$.length;++h)for(g=0;g<r.implements$[h].length;++g){if(a=r.implements$[h][g],!i.instance$||!i.instance$.public$||"function"!=typeof i.instance$.public$[a.name])throw new Error(STRINGS.ERROR_INTERFACE_MISSING_IMPLEMENTATION.replace("{prop}",a.name).replace("{name}",n));if(i.instance$.public$[a.name].length!==a.length)throw new Error(STRINGS.ERROR_INTERFACE_ARGUMENTS_NUM.replace("{prop}",a.name).replace("{name}",n))}if(m){if("function"!=typeof m)throw new Error(STRINGS.ERROR_EXTEND_INVALID_TYPE.replace("{name}",n));if(m.final$)throw new Error(STRINGS.ERROR_EXTEND_FINAL.replace("{base}",m.name$).replace("{name}",n));try{duringExtension=!0,t.prototype=new m,duringExtension=!1}catch(_){throw new Error(STRINGS.ERROR_EXTEND_CONSTRUCTOR_EXCEPTION.replace("{name}",n)+_.toString()+"\n"+_.stack)}}for(h=0;h<SCOPES.length;++h)if(u=SCOPES[h],d=[],i[u.field])for(g=0;g<ACCESSIBILITIES.length;++g)if(p=ACCESSIBILITIES[g],i[u.field][p.field])for(l in i[u.field][p.field])if("override$"===l){if(u.type===STATIC)throw new Error(STRINGS.ERROR_OVERRIDE_STATIC.replace("{name}",n));for(c in i[u.field][p.field].override$)overrideProperty(t.prototype,n,c,i[u.field][p.field][l][c],p.type)}else{if(-1!==d.indexOf(l))throw new Error(STRINGS.ERROR_DEFINITION_DUPLICATE);transcribeProperty(u.type===STATIC?t:t.prototype,n,l,i[u.field][p.field][l],p.type,u.type),d.push(l)}if(i.instance$&&i.instance$.public$&&i.instance$.public$[n]?(o=function(){i.instance$.public$[n].apply(this,arguments)},m&&(o.super$=function(){m.apply(this,arguments)})):o=function(){},r.type$&&r.type$!==class$.PUBLIC&&r.type$!==(class$.PUBLIC|class$.FINAL))if(r.type$===class$.ABSTRACT)s=function(){if(!duringExtension)throw new Error(STRINGS.ERROR_INSTANTIATION_DIRECT_ABSTRACT.replace("{name}",n))};else{if(r.type$!==class$.SINGLETON&&r.type$!==(class$.SINGLETON|class$.FINAL))throw new Error(STRINGS.ERROR_DEFINITION_INVALID_CLASS_TYPE.replace("{name}",n));var b;s=function(){if(!duringSingletonInstantiation)throw new Error(STRINGS.ERROR_INSTANTIATION_DIRECT_SINGLETON.replace("{name}",n));o.apply(this,arguments)},t.__defineGetter__("instance",function(){return b||(duringSingletonInstantiation=!0,b=new t,duringSingletonInstantiation=!1),b})}else s=function(){o.apply(this,arguments)};f=!!(r.type$&&r.type$&class$.FINAL),t.__defineGetter__("final$",function(){return f}),t.__defineGetter__("name$",function(){return n}),t.onReady$=importUtils.generateOnReadyHandler(t),constructorsById[e]=createIdentifiableFunction(t.prototype,s),currentLoadPath&&(importUtils.constructorsByPath[currentLoadPath]=s,currentLoadPath=null),importUtils.notifyReady(t)},class$=function(e,t,n){var r,i,o,s;if("string"!=typeof e||0===e.length)throw new Error(STRINGS.ERROR_DEFINITION_INVALID_CLASS_NAME.replace("{name}",e));if("object"!=typeof t)throw new Error(STRINGS.ERROR_DEFINITION_INVALID_META.replace("{name}",e));if("object"!=typeof n)throw new Error(STRINGS.ERROR_DEFINITION_INVALID_DEFINITION.replace("{name}",e));if(currentLoadPath||(r=refIdSeed++),currentLoadPath?(i=importUtils.getResourceReference(currentLoadPath),r=i.id$):i=function(){constructorsById[r].apply(this,arguments)},i.__defineGetter__("id$",function(){return r}),i.toString=function(){return"[Class "+e+" @"+r+"]"},o=[],t.extends$&&!t.extends$.ready$&&o.push(t.extends$),t.implements$)for(s=0;s<t.implements$.length;++s)t.implements$[s].ready$||o.push(t.implements$[s]);return 0===o.length?defineClass(r,i,e,t,n):(constructorsById[r]=function(){throw new Error("Class "+e+" not ready.")},importUtils.registerDependent(i,o),i.onReady$(function(){defineClass(r,i,e,t,n)})),i},class$.PUBLIC=1,class$.ABSTRACT=2,class$.SINGLETON=4,class$.FINAL=8,module.exports.class$=class$;var interface$=function(e,t){var n,r=[];if("string"!=typeof e||0===e.length)throw new Error("Invalid interface name "+e);for(n in t){if("function"!=typeof t[n])throw new Error("An interface can only define methods. Invalid property "+e+":"+n);r.push({name:n,length:t[n].length})}return r.ready$=!0,r};module.exports.interface$=interface$;var import$,importUtils,currentLoadPath=null;importUtils={resourcesByPath:{},constructorsByPath:{},handlersByPath:{},importTimeoutId:-1,queue:[],callbacks:{},getResourceReference:function(e){return this.resourcesByPath[e]},createClassReference:function(e){var t,n=refIdSeed++;return this.constructorsByPath[e]=this.createTemporaryConstructor(),this.handlersByPath[e]=this.handlersByPath[e]||[],t=function(){importUtils.constructorsByPath[e].apply(this,arguments)},t.onReady$=importUtils.generateOnReadyHandler(t),t.toString=function(){return"[Import @"+n+"]"},t.__defineGetter__("id$",function(){return n}),t.__defineGetter__("path$",function(){return e}),this.resourcesByPath[e]=t,t},createTemporaryConstructor:function(){return function(){throw new Error("Class not ready yet.")}},generateOnReadyHandler:function(e){return function(t){"function"==typeof t&&(e.ready$?t():(importUtils.callbacks[e.id$]=importUtils.callbacks[e.id$]||[],-1===importUtils.callbacks[e.id$].indexOf(t)&&importUtils.callbacks[e.id$].push(t)))}},registerDependent:function(e,t){var n,r=t.length,i=function(){--r<=0&&importUtils.notifyReady(e)};if(e.__defineGetter__("ready$",function(){return!1}),e.onReady$=importUtils.generateOnReadyHandler(e),0===t.length)throw new Error("This should never happen");for(n=0;n<t.length;++n)t[n].onReady$(i)},notifyReady:function(e){var t;if(!e.ready$&&(currentLoadPath&&(importUtils.constructorsByPath[currentLoadPath]=function(){},currentLoadPath=null),e.__defineGetter__("ready$",function(){return!0}),importUtils.callbacks[e.id$]))for(t=0;t<importUtils.callbacks[e.id$].length;++t)"function"==typeof importUtils.callbacks[e.id$][t]&&importUtils.callbacks[e.id$][t]()},add:function(e,t,n){this.queue.push({path:e,ref:t,callback:n})},resolveUrl:function(e){return-1===e.indexOf("/")?CONFIG.ROOT+e.split(CONFIG.CLASS_EXTENSION)[0].replace(/\./g,"/")+CONFIG.CLASS_EXTENSION:e},load:function(e,t){-1===e.indexOf("/")&&(e=e.replace(/\./g,"/")+".js"),this.xhr(e,t)},xhr:function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4==n.readyState&&"200"==n.status&&"function"==typeof t&&t(n.responseText)}.bind(this),n.send(null)},run:function(){var e=this;clearTimeout(this.importTimeoutId),this.importTimeoutId=setTimeout(function(){e.importNext()},1)},importNext:function(){var self=this,resource,callback;0!==this.queue.length&&(resource=this.queue.splice(0,1)[0],callback=function(script){currentLoadPath=resource.path,eval(script),importUtils.notifyReady(resource.ref),"function"==typeof resource.callback&&resource.callback(),importUtils.importNext()},this.load(resource.path,callback))}},import$=function(e,t){console.log("import",e);var n=importUtils.getResourceReference(e);return n||(n=importUtils.createClassReference(e),importUtils.add(e,n,t),importUtils.run()),n},module.exports.import$=import$}({},function(){return this}());var User=class$("User",{type$:class$.PUBLIC},{instance$:{public$:{User:function(){console.log("this is an User!")}}}}),App=class$("App",{type$:class$.PUBLIC},{instance$:{public$:{user:null,App:function(){console.log("this is an App!"),this.user=new User}}}});try{window.FB||function(e){var t,n,r=e,i=e.document,o=e.setTimeout,s=e.setInterval;n=function(e){return e[0]},t=function(e){return e};var a,l;!function(e){var t={},n={},r=["global","require","requireDynamic","requireLazy","module","exports"];a=function(r,i){if(n.hasOwnProperty(r))return n[r];if(!t.hasOwnProperty(r)){if(i)return null;throw new Error("Module "+r+" has not been defined")}for(var o,s=t[r],l=s.deps,c=l.length,d=[],u=0;c>u;u++){switch(l[u]){case"module":o=s;break;case"exports":o=s.exports;break;case"global":o=e;break;case"require":o=a;break;case"requireDynamic":o=a;break;case"requireLazy":o=null;break;default:o=a.call(null,l[u])}d.push(o)}return s.factory.apply(e,d),n[r]=s.exports,s.exports},l=function(e,i,o,s){"function"==typeof o?(t[e]={factory:o,deps:r.concat(i),exports:{}},3===s&&a.call(null,e)):n[e]=o}}(this);var c=function(){return l("ES5ArrayPrototype",[],function(e,t,n,r,i){var o={};o.map=function(e,t){if("function"!=typeof e)throw new TypeError;var n,r=this.length,i=new Array(r);for(n=0;r>n;++n)n in this&&(i[n]=e.call(t,this[n],n,this));return i},o.forEach=function(e,t){o.map.call(this,e,t)},o.filter=function(e,t){if("function"!=typeof e)throw new TypeError;var n,r,i=this.length,o=[];for(n=0;i>n;++n)n in this&&(r=this[n],e.call(t,r,n,this)&&o.push(r));return o},o.every=function(e,t){if("function"!=typeof e)throw new TypeError;for(var n=new Object(this),r=n.length,i=0;r>i;i++)if(i in n&&!e.call(t,n[i],i,n))return!1;return!0},o.some=function(e,t){if("function"!=typeof e)throw new TypeError;for(var n=new Object(this),r=n.length,i=0;r>i;i++)if(i in n&&e.call(t,n[i],i,n))return!0;return!1},o.indexOf=function(e,t){var n=this.length;for(t|=0,0>t&&(t+=n);n>t;t++)if(t in this&&this[t]===e)return t;return-1},i.exports=o}),l("ES5FunctionPrototype",[],function(e,t,n,r,i){var o={};o.bind=function(e){function t(){return n.apply(e,r.concat(Array.prototype.slice.call(arguments)))}if("function"!=typeof this)throw new TypeError("Bind must be called on a function");var n=this,r=Array.prototype.slice.call(arguments,1);return t.displayName="bound:"+(n.displayName||n.name||"(?)"),t.toString=function(){return"bound: "+n},t},i.exports=o}),l("ES5StringPrototype",[],function(e,t,n,r,i){var o={};o.trim=function(){if(null==this)throw new TypeError("String.prototype.trim called on null or undefined");return String.prototype.replace.call(this,/^\s+|\s+$/g,"")},i.exports=o}),l("ES5Array",[],function(e,t,n,r,i){var o={};o.isArray=function(e){return"[object Array]"==Object.prototype.toString.call(e)},i.exports=o}),l("ES5Object",[],function(e,t,n,r,i){var o={};o.create=function(e){var t=typeof e;if("object"!=t&&"function"!=t)throw new TypeError("Object prototype may only be a Object or null");var n=new Function;return n.prototype=e,new n},o.keys=function(e){var t=typeof e;if("object"!=t&&"function"!=t||null===e)throw new TypeError("Object.keys called on non-object");var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.push(r);var i=!{toString:!0}.propertyIsEnumerable("toString"),o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","prototypeIsEnumerable","constructor"];if(i)for(var s=0;s<o.length;s++){var a=o[s];Object.prototype.hasOwnProperty.call(e,a)&&n.push(a)}return n},i.exports=o}),l("ES5Date",[],function(e,t,n,r,i){var o={};o.now=function(){return(new Date).getTime()},i.exports=o}),l("JSON3",[],function(e,t,n,r,i){(function(){var e,t,n,r,o,s,a,l,c,d,u,p,f,h,g,m,_,b,v,y,k,w={}.toString,x=i.exports={},I='{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}',E=new Date(-0xc782b5b800cec);try{E=-109252==E.getUTCFullYear()&&0===E.getUTCMonth()&&1==E.getUTCDate()&&10==E.getUTCHours()&&37==E.getUTCMinutes()&&6==E.getUTCSeconds()&&708==E.getUTCMilliseconds()}catch(A){}if(E||(v=Math.floor,y=[0,31,59,90,120,151,181,212,243,273,304,334],k=function(e,t){return y[t]+365*(e-1970)+v((e-1969+(t=+(t>1)))/4)-v((e-1901+t)/100)+v((e-1601+t)/400)}),"object"==typeof JSON&&JSON&&(x.stringify=JSON.stringify,x.parse=JSON.parse),r="function"==typeof x.stringify&&!k){(E=function(){return 1}).toJSON=E;try{r="0"===x.stringify(0)&&"0"===x.stringify(new Number)&&'""'==x.stringify(new String)&&x.stringify(w)===n&&x.stringify(n)===n&&x.stringify()===n&&"1"===x.stringify(E)&&"[1]"==x.stringify([E])&&"[null]"==x.stringify([n])&&"null"==x.stringify(null)&&"[null,null,null]"==x.stringify([n,w,null])&&x.stringify({result:[E,!0,!1,null,"\x00\b\n\f\r	"]})==I&&"1"===x.stringify(null,E)&&"[\n 1,\n 2\n]"==x.stringify([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==x.stringify(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==x.stringify(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==x.stringify(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==x.stringify(new Date(-1))}catch(A){r=!1}}if("function"==typeof x.parse)try{if(0===x.parse("0")&&!x.parse(!1)&&(E=x.parse(I),c=5==E.A.length&&1==E.A[0])){try{c=!x.parse('"	"')}catch(A){}if(c)try{c=1!=x.parse("01")}catch(A){}}}catch(A){c=!1}E=I=null,r&&c||((e={}.hasOwnProperty)||(e=function(t){var n,r={};return(r.__proto__=null,r.__proto__={toString:1},r).toString!=w?e=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(n=r.constructor,e=function(e){var t=(this.constructor||n).prototype;return e in this&&!(e in t&&this[e]===t[e])}),r=null,e.call(this,t)}),t=function(t,n){var r,i,o,s,a=0;(r=function(){this.valueOf=0}).prototype.valueOf=0,i=new r;for(o in i)e.call(i,o)&&a++;return r=i=null,a?s=2==a?function(t,n){var r,i={},o="[object Function]"==w.call(t);for(r in t)o&&"prototype"==r||e.call(i,r)||!(i[r]=1)||!e.call(t,r)||n(r)}:function(t,n){var r,i,o="[object Function]"==w.call(t);for(r in t)o&&"prototype"==r||!e.call(t,r)||(i="constructor"===r)||n(r);(i||e.call(t,r="constructor"))&&n(r)}:(i=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],s=function(t,n){var r,o,s="[object Function]"==w.call(t);for(r in t)s&&"prototype"==r||!e.call(t,r)||n(r);for(o=i.length;r=i[--o];e.call(t,r)&&n(r));}),s(t,n)},r||(o={"\\":"\\\\",'"':'\\"',"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},s=function(e,t){return("000000"+(t||0)).slice(-e)},a=function(e){for(var t,n='"',r=0;t=e.charAt(r);r++)n+='\\"\b\f\n\r	'.indexOf(t)>-1?o[t]:" ">t?"\\u00"+s(2,t.charCodeAt(0).toString(16)):t;return n+'"'},l=function(r,i,o,c,d,u,p){var f,h,g,m,_,b,y,x,I,E,A,C,S,R,N,T=i[r];if("object"==typeof T&&T)if(f=w.call(T),"[object Date]"!=f||e.call(T,"toJSON"))"function"==typeof T.toJSON&&("[object Number]"!=f&&"[object String]"!=f&&"[object Array]"!=f||e.call(T,"toJSON"))&&(T=T.toJSON(r));else if(T>-1/0&&1/0>T){if(k){for(m=v(T/864e5),h=v(m/365.2425)+1970-1;k(h+1,0)<=m;h++);for(g=v((m-k(h,0))/30.42);k(h,g+1)<=m;g++);m=1+m-k(h,g),_=(T%864e5+864e5)%864e5,b=v(_/36e5)%24,y=v(_/6e4)%60,x=v(_/1e3)%60,I=_%1e3}else h=T.getUTCFullYear(),g=T.getUTCMonth(),m=T.getUTCDate(),b=T.getUTCHours(),y=T.getUTCMinutes(),x=T.getUTCSeconds(),I=T.getUTCMilliseconds();T=(0>=h||h>=1e4?(0>h?"-":"+")+s(6,0>h?-h:h):s(4,h))+"-"+s(2,g+1)+"-"+s(2,m)+"T"+s(2,b)+":"+s(2,y)+":"+s(2,x)+"."+s(3,I)+"Z"}else T=null;if(o&&(T=o.call(i,r,T)),null===T)return"null";if(f=w.call(T),"[object Boolean]"==f)return""+T;if("[object Number]"==f)return T>-1/0&&1/0>T?""+T:"null";if("[object String]"==f)return a(T);if("object"==typeof T){for(S=p.length;S--;)if(p[S]===T)throw TypeError();if(p.push(T),E=[],R=u,u+=d,"[object Array]"==f){for(C=0,S=T.length;S>C;N||(N=!0),C++)A=l(C,T,o,c,d,u,p),E.push(A===n?"null":A);return N?d?"[\n"+u+E.join(",\n"+u)+"\n"+R+"]":"["+E.join(",")+"]":"[]"}return t(c||T,function(e){var t=l(e,T,o,c,d,u,p);t!==n&&E.push(a(e)+":"+(d?" ":"")+t),N||(N=!0)}),N?d?"{\n"+u+E.join(",\n"+u)+"\n"+R+"}":"{"+E.join(",")+"}":"{}"}},x.stringify=function(e,t,n){var r,i,o,s,a,c;if("function"==typeof t||"object"==typeof t&&t)if("[object Function]"==w.call(t))i=t;else if("[object Array]"==w.call(t))for(o={},s=0,a=t.length;a>s;c=t[s++],("[object String]"==w.call(c)||"[object Number]"==w.call(c))&&(o[c]=1));if(n)if("[object Number]"==w.call(n)){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else"[object String]"==w.call(n)&&(r=n.length<=10?n:n.slice(0,10));return l("",(c={},c[""]=e,c),i,o,r,"",[])}),c||(d=String.fromCharCode,u={"\\":"\\",'"':'"',"/":"/",b:"\b",t:"	",n:"\n",f:"\f",r:"\r"},p=function(){throw _=b=null,SyntaxError()},f=function(){for(var e,t,n,r,i,o=b,s=o.length;s>_;)if(e=o.charAt(_),"	\r\n ".indexOf(e)>-1)_++;else{if("{}[]:,".indexOf(e)>-1)return _++,e;if('"'==e){for(t="@",_++;s>_;)if(e=o.charAt(_)," ">e)p();else if("\\"==e)if(e=o.charAt(++_),'\\"/btnfr'.indexOf(e)>-1)t+=u[e],_++;else if("u"==e){for(n=++_,r=_+4;r>_;_++)e=o.charAt(_),e>="0"&&"9">=e||e>="a"&&"f">=e||e>="A"&&"F">=e||p();t+=d("0x"+o.slice(n,_))}else p();else{if('"'==e)break;t+=e,_++}if('"'==o.charAt(_))return _++,t;p()}else{if(n=_,"-"==e&&(i=!0,e=o.charAt(++_)),e>="0"&&"9">=e){for("0"==e&&(e=o.charAt(_+1),e>="0"&&"9">=e)&&p(),i=!1;s>_&&(e=o.charAt(_),e>="0"&&"9">=e);_++);if("."==o.charAt(_)){for(r=++_;s>r&&(e=o.charAt(r),e>="0"&&"9">=e);r++);r==_&&p(),_=r}if(e=o.charAt(_),"e"==e||"E"==e){for(e=o.charAt(++_),("+"==e||"-"==e)&&_++,r=_;s>r&&(e=o.charAt(r),e>="0"&&"9">=e);r++);r==_&&p(),_=r}return+o.slice(n,_)}if(i&&p(),"true"==o.slice(_,_+4))return _+=4,!0;if("false"==o.slice(_,_+5))return _+=5,!1;if("null"==o.slice(_,_+4))return _+=4,null;p()}}return"$"},h=function(e){var t,n;if("$"==e&&p(),"string"==typeof e){if("@"==e.charAt(0))return e.slice(1);if("["==e){for(t=[];e=f(),"]"!=e;n||(n=!0))n&&(","==e?(e=f(),"]"==e&&p()):p()),","==e&&p(),t.push(h(e));return t}if("{"==e){for(t={};e=f(),"}"!=e;n||(n=!0))n&&(","==e?(e=f(),"}"==e&&p()):p()),(","==e||"string"!=typeof e||"@"!=e.charAt(0)||":"!=f())&&p(),t[e.slice(1)]=h(f());return t}p()}return e},m=function(e,t,r){var i=g(e,t,r);i===n?delete e[t]:e[t]=i},g=function(e,n,r){var i,o=e[n];if("object"==typeof o&&o)if("[object Array]"==w.call(o))for(i=o.length;i--;)m(o,i,r);else t(o,function(e){m(o,e,r)});return r.call(e,n,o)},x.parse=function(e,t){_=0,b=e;var n=h(f());return"$"!=f()&&p(),_=b=null,t&&"[object Function]"==w.call(t)?g((E={},E[""]=n,E),"",t):n}))}).call(this)}),l("ES5",["ES5ArrayPrototype","ES5FunctionPrototype","ES5StringPrototype","ES5Array","ES5Object","ES5Date","JSON3"],function(t,n,r,i,o){function s(e,t,n){var r=h.call(arguments,3),i=n?/\s(.*)\]/.exec(g.call(e).toLowerCase())[1]:e,o=m[i+"."+t]||e[t];return"function"==typeof o?o.apply(e,r):void 0}var a=n("ES5ArrayPrototype"),l=n("ES5FunctionPrototype"),c=n("ES5StringPrototype"),d=n("ES5Array"),u=n("ES5Object"),p=n("ES5Date"),f=n("JSON3"),h=Array.prototype.slice,g=Object.prototype.toString,m={"JSON.stringify":f.stringify,"JSON.parse":f.parse},_={array:a,"function":l,string:c,Object:u,Array:d,Date:p};for(var b in _)if(_.hasOwnProperty(b)){var v=_[b],y=b===b.toLowerCase()?e[b.replace(/^\w/,function(e){return e.toUpperCase()})].prototype:e[b];for(var k in v)if(v.hasOwnProperty(k)){var w=y[k];m[b+"."+k]=w&&/\{\s+\[native code\]\s\}/.test(w)?w:v[k]}}o.exports=s}),c=a("ES5"),c.apply(null,arguments)};l("sdk.RuntimeConfig",[],{locale:"en_US",rtl:!1}),l("XDConfig",[],{XdUrl:"connect/xd_arbiter.php?version=28",Flash:{path:"https://connect.facebook.net/rsrc.php/v1/yS/r/NoZWYE2GRkt.swf"},useCdn:!0}),l("UrlMapConfig",[],{www:"www.facebook.com",m:"m.facebook.com",connect:"connect.facebook.net",business:"business.facebook.com",api_https:"api.facebook.com",api_read_https:"api-read.facebook.com",graph_https:"graph.facebook.com",fbcdn_http:"static.ak.fbcdn.net",fbcdn_https:"fbstatic-a.akamaihd.net",cdn_http:"static.ak.facebook.com",cdn_https:"s-static.ak.facebook.com"}),l("PluginPipeConfig",[],{threshold:0,enabledApps:{209753825810663:1,187288694643718:1}}),l("CssConfig",[],{rules:'.fb_hidden{position:absolute;top:-10000px;z-index:10001}\n.fb_invisible{display:none}\n.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}\n.fb_reset > div{overflow:hidden}\n.fb_link img{border:none}\n.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}\n.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}\n.fb_dialog_content{background:#fff;color:#333}\n.fb_dialog_close_icon{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif);cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px;top:8px\\9;right:7px\\9}\n.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}\n.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}\n.fb_dialog_close_icon:hover{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}\n.fb_dialog_close_icon:active{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}\n.fb_dialog_loader{background-color:#f2f2f2;border:1px solid #606060;font-size:24px;padding:20px}\n.fb_dialog_top_left,\n.fb_dialog_top_right,\n.fb_dialog_bottom_left,\n.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}\n.fb_dialog_top_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}\n.fb_dialog_top_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}\n.fb_dialog_bottom_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}\n.fb_dialog_bottom_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}\n.fb_dialog_vert_left,\n.fb_dialog_vert_right,\n.fb_dialog_horiz_top,\n.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}\n.fb_dialog_vert_left,\n.fb_dialog_vert_right{width:10px;height:100%}\n.fb_dialog_vert_left{margin-left:-10px}\n.fb_dialog_vert_right{right:0;margin-right:-10px}\n.fb_dialog_horiz_top,\n.fb_dialog_horiz_bottom{width:100%;height:10px}\n.fb_dialog_horiz_top{margin-top:-10px}\n.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}\n.fb_dialog_iframe{line-height:0}\n.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #3b5998;color:#fff;font-size:14px;font-weight:bold;margin:0}\n.fb_dialog_content .dialog_title > span{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yd/r/Cou7n-nqK52.gif)\nno-repeat 5px 50%;float:left;padding:5px 0 7px 26px}\nbody.fb_hidden{-webkit-transform:none;height:100%;margin:0;overflow:visible;position:absolute;top:-10000px;left:0;width:100%}\n.fb_dialog.fb_dialog_mobile.loading{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ya/r/3rhSv5V8j3o.gif)\nwhite no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}\n.fb_dialog.fb_dialog_mobile.loading.centered{max-height:590px;min-height:590px;max-width:500px;min-width:500px}\n#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;left:0;top:0;width:100%;min-height:100%;z-index:10000}\n#fb-root #fb_dialog_ipad_overlay.hidden{display:none}\n.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}\n.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}\n.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%\n}\n.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px\n}\n.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px\n}\n.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#4966A6),\ncolor-stop(0.5, #355492), to(#2A4887));border:1px solid #29447e;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset,\nrgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}\n.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}\n.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}\n.fb_dialog_content .dialog_content{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}\n.fb_dialog_content .dialog_footer{background:#f2f2f2;border:1px solid #555;border-top-color:#ccc;height:40px}\n#fb_dialog_loader_close{float:left}\n.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}\n.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}\n.fb_iframe_widget{display:inline-block;position:relative}\n.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}\n.fb_iframe_widget iframe{position:absolute}\n.fb_iframe_widget_lift{z-index:1}\n.fb_hide_iframes iframe{position:relative;left:-10000px}\n.fb_iframe_widget_loader{position:relative;display:inline-block}\n.fb_iframe_widget_fluid{display:inline}\n.fb_iframe_widget_fluid span{width:100%}\n.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}\n.fb_iframe_widget_loader .FB_Loader{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}\n.fb_connect_bar_container div,\n.fb_connect_bar_container span,\n.fb_connect_bar_container a,\n.fb_connect_bar_container img,\n.fb_connect_bar_container strong{background:none;border-spacing:0;border:0;direction:ltr;font-style:normal;font-variant:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal;vertical-align:baseline}\n.fb_connect_bar_container{position:fixed;left:0 !important;right:0 !important;height:42px !important;padding:0 25px !important;margin:0 !important;vertical-align:middle !important;border-bottom:1px solid #333 !important;background:#3b5998 !important;z-index:99999999 !important;overflow:hidden !important}\n.fb_connect_bar_container_ie6{position:absolute;top:expression(document.compatMode=="CSS1Compat"? document.documentElement.scrollTop+"px":body.scrollTop+"px")}\n.fb_connect_bar{position:relative;margin:auto;height:100%;width:100%;padding:6px 0 0 0 !important;background:none;color:#fff !important;font-family:"lucida grande", tahoma, verdana, arial, sans-serif !important;font-size:13px !important;font-style:normal !important;font-variant:normal !important;font-weight:normal !important;letter-spacing:normal !important;line-height:1 !important;text-decoration:none !important;text-indent:0 !important;text-shadow:none !important;text-transform:none !important;white-space:normal !important;word-spacing:normal !important}\n.fb_connect_bar a:hover{color:#fff}\n.fb_connect_bar .fb_profile img{height:30px;width:30px;vertical-align:middle;margin:0 6px 5px 0}\n.fb_connect_bar div a,\n.fb_connect_bar span,\n.fb_connect_bar span a{color:#bac6da;font-size:11px;text-decoration:none}\n.fb_connect_bar .fb_buttons{float:right;margin-top:7px}\n.fb_edge_widget_with_comment{position:relative;*z-index:1000}\n.fb_edge_widget_with_comment span.fb_edge_comment_widget{position:absolute}\n.fb_edge_widget_with_comment span.fb_send_button_form_widget{z-index:1}\n.fb_edge_widget_with_comment span.fb_send_button_form_widget .FB_Loader{left:0;top:1px;margin-top:6px;margin-left:0;background-position:50% 50%;background-color:#fff;height:150px;width:394px;border:1px #666 solid;border-bottom:2px solid #283e6c;z-index:1}\n.fb_edge_widget_with_comment span.fb_send_button_form_widget.dark .FB_Loader{background-color:#000;border-bottom:2px solid #ccc}\n.fb_edge_widget_with_comment span.fb_send_button_form_widget.siderender\n.FB_Loader{margin-top:0}\n.fbpluginrecommendationsbarleft,\n.fbpluginrecommendationsbarright{position:fixed !important;bottom:0;z-index:999}\n.fbpluginrecommendationsbarleft{left:10px}\n.fbpluginrecommendationsbarright{right:10px}',components:["fb.css.base","fb.css.dialog","fb.css.iframewidget","fb.css.connectbarwidget","fb.css.edgecommentwidget","fb.css.sendbuttonformwidget","fb.css.plugin.recommendationsbar"]}),l("CanvasPrefetcherConfig",[],{blacklist:[0x83d70a64a992],sampleRate:500}),l("ConnectBarConfig",[],{imgs:{buttonUrl:"rsrc.php/v2/yY/r/h_Y6u1wrZPW.png",missingProfileUrl:"rsrc.php/v2/yo/r/UlIqmHJn-SK.gif"}}),l("SDKConfig",[],{bustCache:!0,tagCountLogRate:.01,errorHandling:{rate:4},usePluginPipe:!0,features:{kill_fragment:!0,xfbml_profile_pic_server:!0,error_handling:{rate:4},e2e_ping_tracking:{rate:1e-6}},api:{mode:"warn",whitelist:["Canvas","Canvas.Prefetcher","Canvas.Prefetcher.addStaticResource","Canvas.Prefetcher.setCollectionMode","Canvas.getPageInfo","Canvas.hideFlashElement","Canvas.scrollTo","Canvas.setAutoGrow","Canvas.setDoneLoading","Canvas.setSize","Canvas.setUrlHandler","Canvas.showFlashElement","Canvas.startTimer","Canvas.stopTimer","Data","Data.process","Data.query","Data.query:wait","Data.waitOn","Data.waitOn:wait","Event","Event.subscribe","Event.unsubscribe","Music.flashCallback","Music.init","Music.send","Payment","Payment.cancelFlow","Payment.continueFlow","Payment.init","Payment.lockForProcessing","Payment.unlockForProcessing","Payment.parse","Payment.setSize","ThirdPartyProvider","ThirdPartyProvider.init","ThirdPartyProvider.sendData","UA","UA.nativeApp","XFBML","XFBML.RecommendationsBar","XFBML.RecommendationsBar.markRead","XFBML.parse","addFriend","api","getAccessToken","getAuthResponse","getLoginStatus","getUserID","init","login","logout","publish","share","ui","ui:subscribe"]},initSitevars:{enableMobileComments:1,iframePermissions:{read_stream:!1,manage_mailbox:!1,manage_friendlists:!1,read_mailbox:!1,publish_checkins:!0,status_update:!0,photo_upload:!0,video_upload:!0,sms:!1,create_event:!0,rsvp_event:!0,offline_access:!0,email:!0,xmpp_login:!1,create_note:!0,share_item:!0,export_stream:!1,publish_stream:!0,publish_likes:!0,ads_management:!1,contact_email:!0,access_private_data:!1,read_insights:!1,read_requests:!1,read_friendlists:!0,manage_pages:!1,physical_login:!1,manage_groups:!1,read_deals:!1}}}),l("ApiClientConfig",[],{FlashRequest:{swfUrl:"https://connect.facebook.net/rsrc.php/v1/yB/r/YV5wijq5fkW.swf"}}),l("QueryString",[],function(e,t,n,r,i){function o(e){var t=[];
return c(c("Object","keys",!1,e).sort(),"forEach",!0,function(n){var r=e[n];if("undefined"!=typeof r)return null===r?(t.push(n),void 0):(t.push(encodeURIComponent(n)+"="+encodeURIComponent(r)),void 0)}),t.join("&")}function s(e,t){var n={};if(""===e)return n;for(var r=e.split("&"),i=0;i<r.length;i++){var o=r[i].split("=",2),s=decodeURIComponent(o[0]);if(t&&n.hasOwnProperty(s))throw new URIError("Duplicate key: "+s);n[s]=2===o.length?decodeURIComponent(o[1]):null}return n}function a(e,t){return e+(~c(e,"indexOf",!0,"?")?"&":"?")+("string"==typeof t?t:l.encode(t))}var l={encode:o,decode:s,appendToUrl:a};i.exports=l}),l("copyProperties",[],function(e,t,n,r,i){function o(e,t,n,r,i,o){e=e||{};for(var s,a=[t,n,r,i,o],l=0;a[l];){s=a[l++];for(var c in s)e[c]=s[c];s.hasOwnProperty&&s.hasOwnProperty("toString")&&"undefined"!=typeof s.toString&&e.toString!==s.toString&&(e.toString=s.toString)}return e}i.exports=o}),l("ManagedError",[],function(e,t,n,r,i){function o(e,t){Error.prototype.constructor.call(this,e),this.message=e,this.innerError=t}o.prototype=new Error,o.prototype.constructor=o,i.exports=o}),l("AssertionError",["ManagedError"],function(e,t,n,r,i){function o(){s.prototype.constructor.apply(this,arguments)}var s=t("ManagedError");o.prototype=new s,o.prototype.constructor=o,i.exports=o}),l("sprintf",[],function(e,t,n,r,i){function o(e){var t=Array.prototype.slice.call(arguments,1),n=0;return e.replace(/%s/g,function(){return t[n++]})}i.exports=o}),l("Assert",["AssertionError","sprintf"],function(e,t,n,r,i){function o(e,t){if("boolean"!=typeof e||!e)throw new d(t);return e}function s(e,t,n){var r;if(void 0===t)r="undefined";else if(null===t)r="null";else{var i=Object.prototype.toString.call(t);r=/\s(\w*)/.exec(i)[1].toLowerCase()}return o(-1!==c(e,"indexOf",!0,r),n||u("Expression is of type %s, not %s",r,e)),t}function a(e,t,n){return o(t instanceof e,n||"Expression not instance of type"),t}function l(e,t){p["is"+e]=t,p["maybe"+e]=function(e,n){null!=e&&t(e,n)}}var d=t("AssertionError"),u=t("sprintf"),p={isInstanceOf:a,isTrue:o,isTruthy:function(e,t){return o(!!e,t)},type:s,define:function(e,t){e=e.substring(0,1).toUpperCase()+e.substring(1).toLowerCase(),l(e,function(e,n){o(t(e),n)})}};c(["Array","Boolean","Date","Function","Null","Number","Object","Regexp","String","Undefined"],"forEach",!0,function(e){l(e,c(s,"bind",!0,null,e.toLowerCase()))}),i.exports=p}),l("Type",["copyProperties","Assert"],function(e,t,n,r,i){function o(){var e=this.__mixins;if(e)for(var t=0;t<e.length;t++)e[t].apply(this,arguments)}function s(e,t){if(t instanceof e)return!0;if(t instanceof o)for(var n=0;n<t.__mixins.length;n++)if(t.__mixins[n]==e)return!0;return!1}function a(e,t){var n=e.prototype;c("Array","isArray",!1,t)||(t=[t]);for(var r=0;r<t.length;r++){var i=t[r];"function"==typeof i&&(n.__mixins.push(i),i=i.prototype),c(c("Object","keys",!1,i),"forEach",!0,function(e){n[e]=i[e]})}}function l(e,t,n){var r=t&&t.hasOwnProperty("constructor")?t.constructor:function(){this.parent.apply(this,arguments)};if(u.isFunction(r),e&&e.prototype instanceof o==!1)throw new Error("parent type does not inherit from Type");e=e||o;var i=new Function;return i.prototype=e.prototype,r.prototype=new i,d(r.prototype,t),r.prototype.constructor=r,r.parent=e,r.prototype.__mixins=e.prototype.__mixins?Array.prototype.slice.call(e.prototype.__mixins):[],n&&a(r,n),r.prototype.parent=function(){this.parent=e.prototype.parent,e.apply(this,arguments)},r.prototype.parentCall=function(t){return e.prototype[t].apply(this,Array.prototype.slice.call(arguments,1))},r.extend=function(e,t){return l(this,e,t)},r}var d=t("copyProperties"),u=t("Assert");d(o.prototype,{instanceOf:function(e){return s(e,this)}}),d(o,{extend:function(e,t){return"function"==typeof e?l.apply(null,arguments):l(null,e,t)},instanceOf:s}),i.exports=o}),l("ObservableMixin",[],function(e,t,n,r,i){function s(){this.__observableEvents={}}s.prototype={inform:function(e){for(var t=Array.prototype.slice.call(arguments,1),n=Array.prototype.slice.call(this.getSubscribers(e)),r=0;r<n.length;r++)if(null!==n[r])try{n[r].apply(this,t)}catch(i){o(function(){throw i},0)}return this},getSubscribers:function(e){return this.__observableEvents[e]||(this.__observableEvents[e]=[])},clearSubscribers:function(e){return e&&(this.__observableEvents[e]=[]),this},clearAllSubscribers:function(){return this.__observableEvents={},this},subscribe:function(e,t){var n=this.getSubscribers(e);return n.push(t),this},unsubscribe:function(e,t){for(var n=this.getSubscribers(e),r=0;r<n.length;r++)if(n[r]===t){n.splice(r,1);break}return this},monitor:function(e,t){if(!t()){var n=c(function(){t.apply(t,arguments)&&this.unsubscribe(e,n)},"bind",!0,this);this.subscribe(e,n)}return this}},i.exports=s}),l("sdk.Model",["Type","ObservableMixin"],function(e,t,n,r,i){var o=t("Type"),s=t("ObservableMixin"),a=o.extend({constructor:function(e){this.parent();var t={},n=this;c(c("Object","keys",!1,e),"forEach",!0,function(r){t[r]=e[r],n["set"+r]=function(e){return e===t[r]?this:(t[r]=e,n.inform(r+".change",e),n)},n["get"+r]=function(){return t[r]}})}},s);i.exports=a}),l("sdk.Runtime",["sdk.Model","copyProperties","sdk.RuntimeConfig"],function(t,n,r,i,o){var s=n("sdk.Model"),a=r("sdk.RuntimeConfig"),l=n("copyProperties"),c={UNKNOWN:0,PAGETAB:1,CANVAS:2,PLATFORM:4},d=new s({AccessToken:"",ClientID:"",Environment:c.UNKNOWN,Initialized:!1,KidDirectedSite:void 0,Locale:a.locale,LoginStatus:void 0,Rtl:a.rtl,Scope:void 0,Secure:void 0,UseCookie:!1,UserID:"",CookieUserID:""});l(d,{ENVIRONMENTS:c,isEnvironment:function(e){var t=this.getEnvironment();return(e|t)===t}}),function(){var t=/app_runner/.test(e.name)?c.PAGETAB:/iframe_canvas/.test(e.name)?c.CANVAS:c.UNKNOWN;(t|c.PAGETAB)===t&&(t|=c.CANVAS),d.setEnvironment(t)}(),o.exports=d}),l("sdk.Cookie",["QueryString","sdk.Runtime"],function(e,t,n,r,o){function s(e,t,n){e+=c.getClientID();var r=d&&"."!==d;r&&(i.cookie=e+"=; expires=Wed, 04 Feb 2004 08:00:00 GMT;",i.cookie=e+"=; expires=Wed, 04 Feb 2004 08:00:00 GMT;domain="+location.hostname+";");var o=new Date(n).toGMTString();i.cookie=e+"="+t+(t&&0===n?"":"; expires="+o)+"; path=/"+(r?"; domain="+d:"")}function a(e){e+=c.getClientID();var t=new RegExp("\\b"+e+"=([^;]*)\\b");return t.test(i.cookie)?RegExp.$1:null}var l=t("QueryString"),c=t("sdk.Runtime"),d=null,u={setDomain:function(e){d=e;var t=l.encode({base_domain:d&&"."!==d?d:""}),n=new Date;n.setFullYear(n.getFullYear()+1),s("fbm_",t,n.getTime())},getDomain:function(){return d},loadMeta:function(){var e=a("fbm_");if(e){var t=l.decode(e);return d||(d=t.base_domain),t}},loadSignedRequest:function(){return a("fbsr_")},setSignedRequestCookie:function(e,t){if(!e)throw new Error("Value passed to Cookie.setSignedRequestCookie was empty.");s("fbsr_",e,t)},clearSignedRequestCookie:function(){s("fbsr_","",0)},setRaw:s};o.exports=u}),l("guid",[],function(e,t,n,r,i){function o(){return"f"+(Math.random()*(1<<30)).toString(16).replace(".","")}i.exports=o}),l("hasNamePropertyBug",["guid"],function(e,t,n,r,o){function s(){var e=i.createElement("form"),t=e.appendChild(i.createElement("input"));return t.name=c(),l=t!==e.elements[t.name],e=t=null,l}function a(){return"undefined"==typeof l?s():l}var l,c=t("guid");o.exports=a}),l("wrapFunction",[],function(e,t,n,r,i){function o(e,t,n){return t=t||"default",function(){var r=t in s?s[t](e,n):e;return r.apply(this,arguments)}}var s={};o.setWrapper=function(e,t){t=t||"default",s[t]=e},i.exports=o}),l("DOMEventListener",["wrapFunction"],function(t,n,r,i,o){var s,a,l=n("wrapFunction");e.addEventListener?(s=function(e,t,n){n.wrapper=l(n,"entry","DOMEventListener.add "+t),e.addEventListener(t,n.wrapper,!1)},a=function(e,t,n){e.removeEventListener(t,n.wrapper,!1)}):e.attachEvent?(s=function(e,t,n){n.wrapper=l(n,"entry","DOMEventListener.add "+t),e.attachEvent("on"+t,n.wrapper)},a=function(e,t,n){e.detachEvent("on"+t,n.wrapper)}):a=s=function(){};var c={add:function(e,t,n){return s(e,t,n),{remove:function(){a(e,t,n),e=null}}},remove:a};o.exports=c}),l("sdk.createIframe",["copyProperties","guid","hasNamePropertyBug","DOMEventListener"],function(e,t,n,r,o){function s(e){e=a({},e);var t,n=e.name||l(),r=e.root,o=e.style||{border:"none"},s=e.url,u=e.onload;c()?t=i.createElement('<iframe name="'+n+'"/>'):(t=i.createElement("iframe"),t.name=n),delete e.style,delete e.name,delete e.url,delete e.root,delete e.onload;var p=a({frameBorder:0,allowTransparency:!0,scrolling:"no"},e);p.width&&(t.width=p.width+"px"),p.height&&(t.height=p.height+"px"),delete p.height,delete p.width;for(var f in p)p.hasOwnProperty(f)&&t.setAttribute(f,p[f]);if(a(t.style,o),t.src="javascript:false",r.appendChild(t),u)var h=d.add(t,"load",function(){h.remove(),u()});return t.src=s,t}var a=t("copyProperties"),l=t("guid"),c=t("hasNamePropertyBug"),d=t("DOMEventListener");o.exports=s}),l("DOMWrapper",[],function(e,t,n,o,s){var a,l,c={setRoot:function(e){a=e},getRoot:function(){return a||i.body},setWindow:function(e){l=e},getWindow:function(){return l||r}};s.exports=c}),l("sdk.feature",["SDKConfig"],function(e,t,n,r,i){function o(e,t){if(s.features&&e in s.features){var n=s.features[e];return"object"==typeof n&&"number"==typeof n.rate?n.rate&&100*Math.random()<=n.rate?n.value||!0:n.value?null:!1:n}return"undefined"!=typeof t?t:null}var s=n("SDKConfig");i.exports=o}),l("UserAgent",[],function(e,t,n,r,o){function s(){if(!w){w=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(b=/\b(iPhone|iP[ao]d)/.exec(e),v=/\b(iP[ao]d)/.exec(e),m=/Android/i.exec(e),y=/FBAN\/\w+;/i.exec(e),k=/Mobile/i.exec(e),_=!!/Win64/.exec(e),t){a=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):0/0,a&&i&&i.documentMode&&(a=i.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(e);p=r?parseFloat(r[1])+4:a,l=t[2]?parseFloat(t[2]):0/0,c=t[3]?parseFloat(t[3]):0/0,d=t[4]?parseFloat(t[4]):0/0,d?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),u=t&&t[1]?parseFloat(t[1]):0/0):u=0/0}else a=l=c=u=d=0/0;if(n){if(n[1]){var o=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);f=o?parseFloat(o[1].replace("_",".")):!0}else f=!1;h=!!n[2],g=!!n[3]}else f=h=g=!1}}var a,l,c,d,u,p,f,h,g,m,_,b,v,y,k,w=!1,x={ie:function(){return s()||a},ieCompatibilityMode:function(){return s()||p>a},ie64:function(){return x.ie()&&_},firefox:function(){return s()||l},opera:function(){return s()||c},webkit:function(){return s()||d},safari:function(){return x.webkit()},chrome:function(){return s()||u},windows:function(){return s()||h},osx:function(){return s()||f},linux:function(){return s()||g},iphone:function(){return s()||b},mobile:function(){return s()||b||v||m||k},nativeApp:function(){return s()||y},android:function(){return s()||m},ipad:function(){return s()||v}};o.exports=x}),l("sdk.getContextType",["UserAgent","sdk.Runtime"],function(e,t,n,r,i){function o(){return s.nativeApp()?3:s.mobile()?2:a.isEnvironment(a.ENVIRONMENTS.CANVAS)?5:1}var s=t("UserAgent"),a=t("sdk.Runtime");i.exports=o}),l("UrlMap",["UrlMapConfig"],function(e,t,n,r,i){var o=t("UrlMapConfig"),s={resolve:function(e,t){var n="undefined"==typeof t?location.protocol.replace(":",""):t?"https":"http";return e in o?n+"://"+o[e]:"undefined"==typeof t&&e+"_"+n in o?n+"://"+o[e+"_"+n]:t!==!0&&e+"_http"in o?"http://"+o[e+"_http"]:t!==!1&&e+"_https"in o?"https://"+o[e+"_https"]:void 0}};i.exports=s}),l("sdk.Impressions",["guid","QueryString","sdk.Runtime","UrlMap"],function(e,t,n,r,i){function o(e){var t=l.getClientID();!e.api_key&&t&&(e.api_key=t),e.kid_directed_site=l.getKidDirectedSite();var n=new Image;n.src=a.appendToUrl(d.resolve("www",!0)+"/impression.php/"+s()+"/",e)}var s=t("guid"),a=t("QueryString"),l=t("sdk.Runtime"),d=t("UrlMap"),u={log:function(e,t){t.source||(t.source="jssdk"),o({lid:e,payload:c("JSON","stringify",!1,t)})},impression:o};i.exports=u}),l("Log",["sprintf"],function(t,n,r,i,o){function s(t,n){var r=Array.prototype.slice.call(arguments,2),i=a.apply(null,r),o=e.console;o&&d.level>=n&&o[t in o?t:"log"](i)}var a=n("sprintf"),l={DEBUG:3,INFO:2,WARNING:1,ERROR:0},d={level:-1,Level:l,debug:c(s,"bind",!0,null,"debug",l.DEBUG),info:c(s,"bind",!0,null,"info",l.INFO),warn:c(s,"bind",!0,null,"warn",l.WARNING),error:c(s,"bind",!0,null,"error",l.ERROR)};o.exports=d}),l("Base64",[],function(e,t,n,r,i){function o(e){return e=e.charCodeAt(0)<<16|e.charCodeAt(1)<<8|e.charCodeAt(2),String.fromCharCode(a.charCodeAt(e>>>18),a.charCodeAt(e>>>12&63),a.charCodeAt(e>>>6&63),a.charCodeAt(63&e))}function s(e){return e=l.charCodeAt(e.charCodeAt(0)-43)<<18|l.charCodeAt(e.charCodeAt(1)-43)<<12|l.charCodeAt(e.charCodeAt(2)-43)<<6|l.charCodeAt(e.charCodeAt(3)-43),String.fromCharCode(e>>>16,e>>>8&255,255&e)}var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=">___?456789:;<=_______\x00\b	\n\f\r______ !\"#$%&'()*+,-./0123",d={encode:function(e){e=unescape(encodeURI(e));var t=(e.length+2)%3;return e=(e+"\x00\x00".slice(t)).replace(/[\s\S]{3}/g,o),e.slice(0,e.length+t-2)+"==".slice(t)},decode:function(e){e=e.replace(/[^A-Za-z0-9+\/]/g,"");var t=e.length+3&3;e=(e+"AAA".slice(t)).replace(/..../g,s),e=e.slice(0,e.length+t-3);try{return decodeURIComponent(escape(e))}catch(n){throw new Error("Not valid UTF-8")}},encodeObject:function(e){return d.encode(c("JSON","stringify",!1,e))},decodeObject:function(e){return c("JSON","parse",!1,d.decode(e))},encodeNums:function(e){return String.fromCharCode.apply(String,c(e,"map",!0,function(e){return a.charCodeAt((e|-(e>63))&-(e>0)&63)}))}};i.exports=d}),l("sdk.SignedRequest",["Base64"],function(e,t,n,r,i){function o(e){if(!e)return null;var t=e.split(".",2)[1].replace(/\-/g,"+").replace(/\_/g,"/");return s.decodeObject(t)}var s=t("Base64"),a={parse:o};i.exports=a}),l("URL",["Assert","copyProperties","QueryString","Log"],function(e,t,n,r,o){function s(e){if(a.isString(e,"The passed argument was of invalid type."),p.test(e))throw new URIError("The passed argument could not be parsed as a url.");if(this instanceof s==!1)return new s(e);var t=e.replace(f,function(t){return d.warn('Escaping unescaped character \\x%s from "%s"',t.charCodeAt(0).toString(16),e),encodeURIComponent(t)}).match(u);if(!e||!t)throw new URIError("The passed argument could not be parsed as a url.");var n=!!location.hostname;if(this.setProtocol(t[4]||(n?location.protocol.replace(/:/,""):"")),this.setDomain(t[6]||location.hostname),this.setPort(t[8]||(n&&!t[6]?location.port:"")),this.setPath(t[9]||""),this.setSearch(t[11]||""),this.setFragment(t[13]||""),"/"!=this._path.substring(0,1)&&(this._path="/"+this._path),this._domain&&!h.test(decodeURIComponent(this._domain.toLowerCase())))throw d.error("Invalid characters found in domain name: %s",this._domain),new URIError("Domain contained invalid characters.")}var a=t("Assert"),l=t("copyProperties"),c=t("QueryString"),d=t("Log"),u=new RegExp("((((\\w+):)?//)(.*?@)?([^~/?#:]+)(:(\\d+))?)?([^\\?$#]+)?(\\?([^$#]+))?(#([^$]+))?"),p=/[\0\\]/,f=/[^\w\-\.,;\/?:@=&%#$~+!*'\[\]()]+/g,h=/^[a-z0-9.][a-z0-9\-\.]+[a-z0-9.]$/,g=/\.facebook\.com$/;l(s.prototype,{constructor:s,getProtocol:function(){return this._protocol},setProtocol:function(e){return this._protocol=e,this},getDomain:function(){return this._domain},setDomain:function(e){return this._domain=e,this},getPort:function(){return this._port},setPort:function(e){return this._port=e,this},getPath:function(){return this._path},setPath:function(e){return this._path=e,this},getSearch:function(){return this._search},setSearch:function(e){return this._search=e,this},getFragment:function(){return this._fragment},setFragment:function(e){return this._fragment=e,this},getParsedSearch:function(){return c.decode(this._search)},getParsedFragment:function(){return c.decode(this._fragment)},isFacebookURL:function(){return g.test(this._domain)},toString:function(){return(this._protocol?this._protocol+":":"")+(this._domain?"//"+this._domain:"")+(this._port?":"+this._port:"")+this._path+(this._search?"?"+this._search:"")+(this._fragment?"#"+this._fragment:"")},valueOf:function(){return this.toString()}}),l(s,{getCurrent:function(){return new s(location.href)},getReferrer:function(){return i.referrer?new s(i.referrer):null}}),o.exports=s}),l("sdk.domReady",[],function(t,n,r,s,a){function l(){if(d){for(var e;e=d.shift();)e();d=null}}function c(e){return d?(d.push(e),void 0):(e(),void 0)}var d,u="readyState"in i?/loaded|complete/.test(i.readyState):!!i.body;if(!u&&(d=[],i.addEventListener?(i.addEventListener("DOMContentLoaded",l,!1),e.addEventListener("load",l,!1)):i.attachEvent&&(i.attachEvent("onreadystatechange",l),e.attachEvent("onload",l)),i.documentElement.doScroll&&e==e.top)){var p=function(){try{i.documentElement.doScroll("left")}catch(e){return o(p,0),void 0}l()};p()}a.exports=c},3),l("sdk.Content",["sdk.domReady","Log","UserAgent"],function(e,t,n,r,o){var s,a=t("sdk.domReady"),l=t("Log"),c=t("UserAgent"),d={append:function(e,t){if(t||(s?t=s:(s=t=i.getElementById("fb-root"),t||(l.warn('The "fb-root" div has not been created, auto-creating'),s=t=i.createElement("div"),t.id="fb-root",c.ie()||!i.body?a(function(){i.body.appendChild(t)}):i.body.appendChild(t)),t.className+=" fb_reset")),"string"==typeof e){var n=i.createElement("div");return t.appendChild(n).innerHTML=e,n}return t.appendChild(e)},appendHidden:function(e){if(!t){var t=i.createElement("div"),n=t.style;n.position="absolute",n.top="-10000px",n.width=n.height=0,t=d.append(t)}return d.append(e,t)},submitToTarget:function(e,t){var n=i.createElement("form");n.action=e.url,n.target=e.target,n.method=t?"GET":"POST",d.appendHidden(n);for(var r in e.params)if(e.params.hasOwnProperty(r)){var o=e.params[r];if(null!==o&&void 0!==o){var s=i.createElement("input");s.name=r,s.value=o,n.appendChild(s)}}n.submit(),n.parentNode.removeChild(n)}};o.exports=d}),l("sdk.Event",[],function(e,t,n,r,i){var o={subscribers:function(){return this._subscribersMap||(this._subscribersMap={}),this._subscribersMap},subscribe:function(e,t){var n=this.subscribers();n[e]?n[e].push(t):n[e]=[t]},unsubscribe:function(e,t){var n=this.subscribers()[e];n&&c(n,"forEach",!0,function(e,r){e==t&&(n[r]=null)})},monitor:function(e,t){if(!t()){var n=this,r=function(){t.apply(t,arguments)&&n.unsubscribe(e,r)};this.subscribe(e,r)}},clear:function(e){delete this.subscribers()[e]},fire:function(e){var t=Array.prototype.slice.call(arguments,1),n=this.subscribers()[e];n&&c(n,"forEach",!0,function(e){e&&e.apply(this,t)})}};i.exports=o}),l("Queue",["copyProperties"],function(e,t,n,r,i){function s(e){"use strict";this._opts=a({interval:0,processor:null},e),this._queue=[],this._stopped=!0}var a=t("copyProperties"),l={};s.prototype._dispatch=function(){"use strict";if(!this._stopped&&0!==this._queue.length){if(!this._opts.processor)throw this._stopped=!0,new Error("No processor available");if(this._opts.interval)this._opts.processor.call(this,this._queue.shift()),this._timeout=o(c(this._dispatch,"bind",!0,this),this._opts.interval);else for(;this._queue.length;)this._opts.processor.call(this,this._queue.shift())}},s.prototype.enqueue=function(e){"use strict";return this._opts.processor&&!this._stopped?this._opts.processor.call(this,e):this._queue.push(e),this},s.prototype.start=function(e){"use strict";return e&&(this._opts.processor=e),this._stopped=!1,this._dispatch(),this},s.prototype.dispatch=function(){"use strict";this._dispatch(!0)},s.prototype.stop=function(e){"use strict";return this._stopped=!0,e&&clearTimeout(this._timeout),this},s.prototype.merge=function(e,t){"use strict";return this._queue[t?"unshift":"push"].apply(this._queue,e._queue),e._queue=[],this._dispatch(),this},s.prototype.getLength=function(){"use strict";return this._queue.length},s.get=function(e,t){"use strict";var n;return n=e in l?l[e]:l[e]=new s(t)},s.exists=function(e){"use strict";return e in l},s.remove=function(e){"use strict";return delete l[e]},i.exports=s}),l("resolveURI",[],function(t,n,r,o,s){function a(t){if(!t)return e.location.href;t=t.replace(/&/g,"&amp;").replace(/"/g,"&quot;");var n=i.createElement("div");return n.innerHTML='<a href="'+t+'"></a>',n.firstChild.href}s.exports=a}),l("resolveWindow",[],function(t,n,r,i,o){function s(t){var n=e,r=t.split(".");try{for(var i=0;i<r.length;i++){var o=r[i],s=/^frames\[['"]?([a-zA-Z0-9\-_]+)['"]?\]$/.exec(o);if(s)n=n.frames[s[1]];else{if("opener"!==o&&"parent"!==o&&"top"!==o)return null;n=n[o]}}}catch(a){return null}return n}o.exports=s}),l("JSONRPC",["copyProperties","Log"],function(e,t,n,r,i){function s(e){this._counter=0,this._callbacks={},this.remote=c(function(e){return this._context=e,this.remote},"bind",!0,this),this.local={},this._write=e}var a=t("copyProperties"),l=t("Log");a(s.prototype,{stub:function(e){this.remote[e]=c(function(){var t=Array.prototype.slice.call(arguments),n={jsonrpc:"2.0",method:e};"function"==typeof t[t.length-1]&&(n.id=++this._counter,this._callbacks[n.id]=t.pop()),n.params=t,this._write(c("JSON","stringify",!1,n),this._context||{method:e})},"bind",!0,this)},read:function(e,t){var n=c("JSON","parse",!1,e),r=n.id;if(!n.method){if(!this._callbacks[r])return l.warn("Could not find callback %s",r),void 0;var i=this._callbacks[r];return delete this._callbacks[r],delete n.id,delete n.jsonrpc,i(n),void 0}var s,a=this,d=this.local[n.method];if(s=r?function(e,n){var i={jsonrpc:"2.0",id:r};i[e]=n,o(function(){a._write(c("JSON","stringify",!1,i),t)},0)}:function(){},!d)return l.error('Method "%s" has not been defined',n.method),s("error",{code:-32601,message:"Method not found",data:n.method}),void 0;n.params.push(c(s,"bind",!0,null,"result")),n.params.push(c(s,"bind",!0,null,"error"));try{var u=d.apply(t||null,n.params);"undefined"!=typeof u&&s("result",u)}catch(p){l.error("Invokation of RPC method %s resulted in the error: %s",n.method,p.message),s("error",{code:-32603,message:"Internal error",data:p.message})}}}),i.exports=s}),l("sdk.RPC",["Assert","JSONRPC","Queue"],function(e,t,n,r,i){var o=t("Assert"),s=t("JSONRPC"),a=t("Queue"),l=new a,d=new s(function(e){l.enqueue(e)}),u={local:d.local,remote:d.remote,stub:c(d.stub,"bind",!0,d),setInQueue:function(e){o.isInstanceOf(a,e),e.start(function(e){d.read(e)})},getOutQueue:function(){return l}};i.exports=u}),l("emptyFunction",["copyProperties"],function(e,t,n,r,i){function o(e){return function(){return e}}function s(){}var a=t("copyProperties");a(s,{thatReturns:o,thatReturnsFalse:o(!1),thatReturnsTrue:o(!0),thatReturnsNull:o(null),thatReturnsThis:function(){return this},thatReturnsArgument:function(e){return e}}),i.exports=s}),l("htmlSpecialChars",[],function(e,t,n,r,i){function o(e){return"undefined"!=typeof e&&null!==e&&e.toString?e===!1?"0":e===!0?"1":e.toString().replace(s,"&amp;").replace(c,"&quot;").replace(d,"&#039;").replace(a,"&lt;").replace(l,"&gt;"):""}var s=/&/g,a=/</g,l=/>/g,c=/"/g,d=/'/g;i.exports=o}),l("Flash",["DOMEventListener","DOMWrapper","QueryString","UserAgent","copyProperties","guid","htmlSpecialChars"],function(t,n,r,i,o){function s(e){var t=v.getElementById(e);t&&t.parentNode.removeChild(t),delete b[e]}function a(){for(var e in b)b.hasOwnProperty(e)&&s(e)}function l(e){return e.replace(/\d+/g,function(e){return"000".substring(e.length)+e})}function c(t){d||(h.ie()>=9&&u.add(e,"unload",a),d=!0),b[t]=t}var d,u=n("DOMEventListener"),p=n("DOMWrapper"),f=n("QueryString"),h=n("UserAgent"),g=n("copyProperties"),m=n("guid"),_=n("htmlSpecialChars"),b={},v=p.getWindow().document,y={embed:function(e,t,n,r){var i=m();e=_(e).replace(/&amp;/g,"&"),n=g({allowscriptaccess:"always",flashvars:r,movie:e},n||{}),"object"==typeof n.flashvars&&(n.flashvars=f.encode(n.flashvars));var o=[];for(var s in n)n.hasOwnProperty(s)&&n[s]&&o.push('<param name="'+_(s)+'" value="'+_(n[s])+'">');var a=t.appendChild(v.createElement("span")),l="<object "+(h.ie()?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" ':'type="application/x-shockwave-flash"')+'data="'+e+'" '+(n.height?'height="'+n.height+'" ':"")+(n.width?'width="'+n.width+'" ':"")+'id="'+i+'">'+o.join("")+"</object>";a.innerHTML=l;var d=a.firstChild;return c(i),d},remove:s,getVersion:function(){var e,t="Shockwave Flash",n="application/x-shockwave-flash",r="ShockwaveFlash.ShockwaveFlash";if(navigator.plugins&&"object"==typeof navigator.plugins[t]){var i=navigator.plugins[t].description;i&&navigator.mimeTypes&&navigator.mimeTypes[n]&&navigator.mimeTypes[n].enabledPlugin&&(e=i.match(/\d+/g))}if(!e)try{e=new ActiveXObject(r).GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),e=Array.prototype.slice.call(e,1)}catch(o){}return e},checkMinVersion:function(e){var t=y.getVersion();return t?l(t.join("."))>=l(e):!1},isAvailable:function(){return!!y.getVersion()}};o.exports=y}),l("dotAccess",[],function(e,t,n,r,i){function o(e,t,n){var r=t.split(".");do{var i=r.shift();e=e[i]||n&&(e[i]={})}while(r.length&&e);return e}i.exports=o}),l("GlobalCallback",["DOMWrapper","dotAccess","guid","wrapFunction"],function(e,t,n,r,i){var o,s,a=t("DOMWrapper"),l=t("dotAccess"),c=t("guid"),d=t("wrapFunction"),u={setPrefix:function(e){o=l(a.getWindow(),e,!0),s=e},create:function(e,t){o||this.setPrefix("__globalCallbacks");var n=c();return o[n]=d(e,"entry",t||"GlobalCallback"),s+"."+n},remove:function(e){var t=e.substring(s.length+1);delete o[t]}};i.exports=u}),l("XDM",["DOMEventListener","DOMWrapper","emptyFunction","Flash","GlobalCallback","guid","Log","UserAgent","wrapFunction"],function(e,t,n,r,s){function a(e){for(var t={},n=e.length,r=b.transports;n--;)t[e[n]]=1;for(n=r.length;n--;){var i=r[n],o=_[i];if(!t[i]&&o.isAvailable())return i}}var l=t("DOMEventListener"),c=t("DOMWrapper"),d=t("emptyFunction"),u=t("Flash"),p=t("GlobalCallback"),f=t("guid"),h=t("Log"),g=t("UserAgent"),m=t("wrapFunction"),_={},b={transports:[]},v=c.getWindow(),y={register:function(e,t){h.debug("Registering %s as XDM provider",e),b.transports.push(e),_[e]=t},create:function(e){if(!e.whenReady&&!e.onMessage)throw h.error("An instance without whenReady or onMessage makes no sense"),new Error("An instance without whenReady or onMessage makes no sense");e.channel||(h.warn("Missing channel name, selecting at random"),e.channel=f()),e.whenReady||(e.whenReady=d),e.onMessage||(e.onMessage=d);var t=e.transport||a(e.blacklist||[]),n=_[t];return n&&n.isAvailable()?(h.debug("%s is available",t),n.init(e),t):void 0}};y.register("fragment",function(){function e(e){var n=i.createElement("iframe");n.src="javascript:false";var r=l.add(n,"load",function(){r.remove(),o(function(){n.parentNode.removeChild(n)},5e3)});t.appendChild(n),n.src=e}var t,n=!1,r=location.protocol+"//"+location.host;return{isAvailable:function(){return!0},init:function(i){h.debug("init fragment");var s={send:function(t,n,o,s){h.debug("sending to: %s (%s)",n+i.channelPath,s),e(n+i.channelPath+t+"&xd_rel=parent.parent&relation=parent.parent&xd_origin="+encodeURIComponent(r))}};return n?(o(function(){i.whenReady(s)},0),void 0):(t=i.root,n=!0,o(function(){i.whenReady(s)},0),void 0)}}}()),y.register("flash",function(){var e,t,n=!1,r=!1,i=15e3;return{isAvailable:function(){return u.checkMinVersion("8.0.24")},init:function(s){h.debug("init flash: "+s.channel);var a={send:function(t,n,r,i){h.debug("sending to: %s (%s)",n,i),e.postMessage(t,n,i)}};if(n)return s.whenReady(a),void 0;var l=s.root.appendChild(v.document.createElement("div")),c=p.create(function(){p.remove(c),clearTimeout(t),h.info("xdm.swf called the callback");var n=p.create(function(e,t){e=decodeURIComponent(e),t=decodeURIComponent(t),h.debug("received message %s from %s",e,t),s.onMessage(e,t)},"xdm.swf:onMessage");e.init(s.channel,n),s.whenReady(a)},"xdm.swf:load");e=u.embed(s.flashUrl,l,null,{protocol:location.protocol.replace(":",""),host:location.host,callback:c,log:r}),t=o(function(){h.warn("The Flash component did not load within %s ms - verify that the container is not set to hidden or invisible using CSS as this will cause some browsers to not load the components",i)},i),n=!0}}}()),y.register("postmessage",function(){var e=!1;return{isAvailable:function(){return!!v.postMessage},init:function(t){h.debug("init postMessage: "+t.channel);var n="_FB_"+t.channel,r={send:function(e,t,n,r){if(v===n)throw h.error("Invalid windowref, equal to window (self)"),new Error;h.debug("sending to: %s (%s)",t,r);var i=function(){n.postMessage("_FB_"+r+e,t)};8==g.ie()||g.ieCompatibilityMode()?o(i,0):i()}};return e?(t.whenReady(r),void 0):(l.add(v,"message",m(function(e){var r=e.data,i=e.origin||"native";return"string"!=typeof r?(h.warn("Received message of type %s from %s, expected a string",typeof r,i),void 0):(h.debug("received message %s from %s",r,i),r.substring(0,n.length)==n&&(r=r.substring(n.length)),t.onMessage(r,i),void 0)},"entry","onMessage")),t.whenReady(r),e=!0,void 0)}}}()),s.exports=y}),l("sdk.XD",["sdk.Content","sdk.createIframe","sdk.feature","sdk.Event","guid","Log","QueryString","Queue","resolveURI","resolveWindow","sdk.RPC","sdk.Runtime","UrlMap","URL","wrapFunction","XDM","XDConfig"],function(t,n,r,o,s){function a(e){k.info("Remote XD can talk to facebook.com (%s)",e),C.setEnvironment("canvas"===e?C.ENVIRONMENTS.CANVAS:C.ENVIRONMENTS.PAGETAB)}function l(e,t){if(!t)throw k.error("No senderOrigin"),new Error;var n=/^https?/.exec(t)[0];switch(e.xd_action){case"proxy_ready":var r,i;"https"==n?(r=M,i=h):(r=L,i=f),e.registered&&(a(e.registered),P=r.merge(P)),k.info("Proxy ready, starting queue %s containing %s messages",n+"ProxyQueue",r.getLength()),r.start(function(e){g.send("string"==typeof e?e:w.encode(e),t,i.contentWindow,D+"_"+n)});break;case"plugin_ready":if(k.info("Plugin %s ready, protocol: %s",e.name,n),H[e.name]={protocol:n},x.exists(e.name)){var o=x.get(e.name);k.debug("Enqueuing %s messages for %s in %s",o.getLength(),e.name,n+"ProxyQueue"),("https"==n?M:L).merge(o)}}e.data&&d(e.data,t)}function d(e,t){if(!t||"native"===t||R(t).isFacebookURL()){if("string"==typeof e){if(/^FB_RPC:/.test(e))return X.enqueue(e.substring(7)),void 0;if("{"==e.substring(0,1))try{e=c("JSON","parse",!1,e)}catch(n){return k.warn("Failed to decode %s as JSON",e),void 0}else e=w.decode(e)}if(t||e.xd_sig==F&&(t=e.xd_origin),e.xd_action)return l(e,t),void 0;if(e.access_token&&C.setSecure(/^https/.test(B)),e.cb){var r=W._callbacks[e.cb];W._forever[e.cb]||delete W._callbacks[e.cb],r&&r(e)}}}function u(e,t){if("facebook"==e)t.relation="parent.parent",P.enqueue(t);else{t.relation='parent.frames["'+e+'"]';var n=H[e];n?(k.debug("Enqueuing message for plugin %s in %s",e,n.protocol+"ProxyQueue"),("https"==n.protocol?M:L).enqueue(t)):(k.debug("Buffering message for plugin %s",e),x.get(e).enqueue(t))}}function p(t,n){if(!U){var r=t?/\/\/.*?(\/[^#]*)/.exec(t)[1]:location.pathname+location.search;r+=(~c(r,"indexOf",!0,"?")?"&":"?")+"fb_xd_fragment#xd_sig="+F+"&";var o=m.appendHidden(i.createElement("div")),s=b("kill_fragment")?["fragment"]:null,a=O.create({blacklist:s,root:o,channel:D,channelPath:"/"+T.XdUrl+"#",flashUrl:T.Flash.path,whenReady:function(e){g=e;var t={channel:D,origin:location.protocol+"//"+location.host,channel_path:r,transport:a,xd_name:n},i="/"+T.XdUrl+"#"+w.encode(t),s=T.useCdn?S.resolve("cdn",!1):"http://www.facebook.com",l=T.useCdn?S.resolve("cdn",!0):"https://www.facebook.com";C.getSecure()!==!0&&(f=_({url:s+i,name:"fb_xdm_frame_http",id:"fb_xdm_frame_http",root:o,"aria-hidden":!0,title:j,"tab-index":-1})),h=_({url:l+i,name:"fb_xdm_frame_https",id:"fb_xdm_frame_https",root:o,"aria-hidden":!0,title:j,"tab-index":-1})},onMessage:d});"fragment"===a&&(e.FB_XD_onMessage=N(d,"entry","XD:fragment")),U=!0}}var f,h,g,m=n("sdk.Content"),_=n("sdk.createIframe"),b=n("sdk.feature"),v=n("sdk.Event"),y=n("guid"),k=n("Log"),w=n("QueryString"),x=n("Queue"),I=n("resolveURI"),E=n("resolveWindow"),A=n("sdk.RPC"),C=n("sdk.Runtime"),S=n("UrlMap"),R=n("URL"),N=n("wrapFunction"),T=r("XDConfig"),O=n("XDM"),P=new x,L=new x,M=new x,F=y(),D=y(),B=location.protocol+"//"+location.host,U=!1,j="Facebook Cross Domain Communication Frame",H={},X=new x;
A.setInQueue(X),A.getOutQueue().start(function(e){u("facebook","FB_RPC:"+e)});var W={rpc:A,_callbacks:{},_forever:{},_channel:D,_origin:B,onMessage:d,recv:d,init:p,sendToFacebook:u,inform:function(e,t,n,r){u("facebook",{method:e,params:c("JSON","stringify",!1,t||{}),behavior:r||"p",relation:n})},handler:function(e,t,n,r){var i=T.useCdn?S.resolve("cdn","https:"==location.protocol):location.protocol+"//www.facebook.com";return i+"/"+T.XdUrl+"#"+w.encode({cb:this.registerCallback(e,n,r),origin:B+"/"+D,domain:location.hostname,relation:t||"opener"})},registerCallback:function(e,t,n){return n=n||y(),t&&(W._forever[n]=!0),W._callbacks[n]=e,n}};!function(){var e=location.href.match(/[?&]fb_xd_fragment#(.*)$/);if(e){i.documentElement.style.display="none";var t=w.decode(e[1]),n=E(t.xd_rel);k.debug("Passing fragment based message: %s",e[1]),n.FB_XD_onMessage(t),i.open(),i.close()}}(),v.subscribe("init:post",function(e){p(e.channelUrl?I(e.channelUrl):null,e.xdProxyName)}),s.exports=W}),l("sdk.Auth",["sdk.Cookie","copyProperties","sdk.createIframe","DOMWrapper","sdk.feature","sdk.getContextType","guid","sdk.Impressions","Log","ObservableMixin","QueryString","sdk.Runtime","sdk.SignedRequest","UrlMap","URL","sdk.XD"],function(e,t,n,r,i){function s(e,t){var n=A.getUserID(),r="";if(e)if(e.userID)r=e.userID;else if(e.signedRequest){var i=C.parse(e.signedRequest);i&&i.user_id&&(r=i.user_id)}var o=A.getLoginStatus(),s="unknown"===o&&e||A.getUseCookie()&&A.getCookieUserID()!==r,a=n&&!e,l=e&&n&&n!=r,c=e!=p,d=t!=(o||"unknown");A.setLoginStatus(t),A.setAccessToken(e&&e.accessToken||null),A.setUserID(r),p=e;var u={authResponse:e,status:t};return(a||l)&&T.inform("logout",u),(s||l)&&T.inform("login",u),c&&T.inform("authresponse.change",u),d&&T.inform("status.change",u),u}function a(){return p}function l(e,t,n){return function(r){var i;if(r&&r.access_token){var o=C.parse(r.signed_request);if(t={accessToken:r.access_token,userID:o.user_id,expiresIn:parseInt(r.expires_in,10),signedRequest:r.signed_request},r.granted_scopes&&(t.grantedScopes=r.granted_scopes),A.getUseCookie()){var a=0===t.expiresIn?0:c("Date","now",!1)+1e3*t.expiresIn,l=g.getDomain();!l&&r.base_domain&&g.setDomain("."+r.base_domain),g.setSignedRequestCookie(r.signed_request,a)}i="connected",s(t,i)}else("logout"===n||"login_status"===n)&&(i=r.error&&"not_authorized"===r.error?"not_authorized":"unknown",s(null,i),A.getUseCookie()&&g.clearSignedRequestCookie());return r&&1==r.https&&A.setSecure(!0),e&&e({authResponse:t,status:A.getLoginStatus()}),t}}function d(e){var t,n=c("Date","now",!1);f&&(clearTimeout(f),f=null);var r=l(e,p,"login_status"),i=R(S.resolve("www",!0)+"/connect/ping").setSearch(E.encode({client_id:A.getClientID(),response_type:"token,signed_request,code",domain:location.hostname,origin:y(),redirect_uri:N.handler(function(e){if(v("e2e_ping_tracking",!0)){var i={init:n,close:c("Date","now",!1),method:"ping"};x.debug("e2e: %s",c("JSON","stringify",!1,i)),w.log(114,{payload:i})}t.parentNode.removeChild(t),r(e)&&(f=o(function(){d(function(){})},12e5))},"parent"),sdk:"joey",kid_directed_site:A.getKidDirectedSite()}));t=_({root:b.getRoot(),name:k(),url:i.toString(),style:{display:"none"}})}function u(e,t){if(!A.getClientID())return x.warn("FB.getLoginStatus() called before calling FB.init()."),void 0;if(e){if(!t&&"loaded"==h)return e({status:A.getLoginStatus(),authResponse:a()}),void 0;T.subscribe("FB.loginStatus",e)}if(t||"loading"!=h){h="loading";var n=function(e){h="loaded",T.inform("FB.loginStatus",e),T.clearSubscribers("FB.loginStatus")};d(n)}}var p,f,h,g=t("sdk.Cookie"),m=t("copyProperties"),_=t("sdk.createIframe"),b=t("DOMWrapper"),v=t("sdk.feature"),y=t("sdk.getContextType"),k=t("guid"),w=t("sdk.Impressions"),x=t("Log"),I=t("ObservableMixin"),E=t("QueryString"),A=t("sdk.Runtime"),C=t("sdk.SignedRequest"),S=t("UrlMap"),R=t("URL"),N=t("sdk.XD"),T=new I;m(T,{getLoginStatus:u,fetchLoginStatus:d,setAuthResponse:s,getAuthResponse:a,parseSignedRequest:C.parse,xdResponseWrapper:l}),i.exports=T}),l("invariant",[],function(e,t,n,r,i){function o(e){if(!e){var t=new Error("Invariant Violation");throw t.framesToPop=1,t}}i.exports=o}),l("toArray",["invariant"],function(e,t,n,r,i){function o(e){var t=e.length;if(s(!c("Array","isArray",!1,e)&&("object"==typeof e||"function"==typeof e)),s("number"==typeof t),s(0===t||t-1 in e),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(n){}for(var r=Array(t),i=0;t>i;i++)r[i]=e[i];return r}var s=t("invariant");i.exports=o}),l("createArrayFrom",["toArray"],function(e,t,n,r,i){function o(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(c("Array","isArray",!1,e)||"callee"in e||"item"in e)}function s(e){return o(e)?c("Array","isArray",!1,e)?e.slice():a(e):[e]}var a=t("toArray");i.exports=s}),l("sdk.DOM",["Assert","createArrayFrom","sdk.domReady","UserAgent"],function(t,n,r,o,s){function a(e,t){var n=e.getAttribute(t)||e.getAttribute(t.replace(/_/g,"-"))||e.getAttribute(t.replace(/-/g,"_"))||e.getAttribute(t.replace(/-/g,""))||e.getAttribute(t.replace(/_/g,""))||e.getAttribute("data-"+t)||e.getAttribute("data-"+t.replace(/_/g,"-"))||e.getAttribute("data-"+t.replace(/-/g,"_"))||e.getAttribute("data-"+t.replace(/-/g,""))||e.getAttribute("data-"+t.replace(/_/g,""));return n?String(n):null}function l(e,t){var n=a(e,t);return n?/^(true|1|yes|on)$/.test(n):null}function d(e,t){k.isTruthy(e,"element not specified"),k.isString(t);try{return String(e[t])}catch(n){throw new Error("Could not read property "+t+" : "+n.message)}}function u(e,t){k.isTruthy(e,"element not specified"),k.isString(t);try{e.innerHTML=t}catch(n){throw new Error("Could not set innerHTML : "+n.message)}}function p(e,t){k.isTruthy(e,"element not specified"),k.isString(t);var n=" "+d(e,"className")+" ";return c(n,"indexOf",!0," "+t+" ")>=0}function f(e,t){k.isTruthy(e,"element not specified"),k.isString(t),p(e,t)||(e.className=d(e,"className")+" "+t)}function h(e,t){k.isTruthy(e,"element not specified"),k.isString(t);var n=new RegExp("\\s*"+t,"g");e.className=c(d(e,"className").replace(n,""),"trim",!0)}function g(e,t,n){if(k.isString(e),t=t||i.body,n=n||"*",t.querySelectorAll)return w(t.querySelectorAll(n+"."+e));for(var r=t.getElementsByTagName(n),o=[],s=0,a=r.length;a>s;s++)p(r[s],e)&&(o[o.length]=r[s]);return o}function m(e,t){k.isTruthy(e,"element not specified"),k.isString(t),t=t.replace(/-(\w)/g,function(e,t){return t.toUpperCase()});var n=e.currentStyle||i.defaultView.getComputedStyle(e,null),r=n[t];return/backgroundPosition?/.test(t)&&/top|left/.test(r)&&(r="0%"),r}function _(e,t,n){k.isTruthy(e,"element not specified"),k.isString(t),t=t.replace(/-(\w)/g,function(e,t){return t.toUpperCase()}),e.style[t]=n}function b(e,t){for(var n,r=!0,o=0;n=t[o++];)n in E||(r=!1,E[n]=!0);if(!r)if(I.ie())try{i.createStyleSheet().cssText=e}catch(s){i.styleSheets[0]&&(i.styleSheets[0].cssText+=e)}else{var a=i.createElement("style");a.type="text/css",a.textContent=e,i.getElementsByTagName("head")[0].appendChild(a)}}function v(){var t=i.documentElement&&"CSS1Compat"==i.compatMode?i.documentElement:i.body;return{scrollTop:t.scrollTop||i.body.scrollTop,scrollLeft:t.scrollLeft||i.body.scrollLeft,width:e.innerWidth?e.innerWidth:t.clientWidth,height:e.innerHeight?e.innerHeight:t.clientHeight}}function y(e){k.isTruthy(e,"element not specified");var t=0,n=0;do t+=e.offsetLeft,n+=e.offsetTop;while(e=e.offsetParent);return{x:t,y:n}}var k=n("Assert"),w=n("createArrayFrom"),x=n("sdk.domReady"),I=n("UserAgent"),E={},A={containsCss:p,addCss:f,removeCss:h,getByClass:g,getStyle:m,setStyle:_,getAttr:a,getBoolAttr:l,getProp:d,html:u,addCssRules:b,getViewportInfo:v,getPosition:y,ready:x};s.exports=A}),l("sdk.Scribe",["UrlMap","QueryString"],function(e,t,n,r,i){function o(e,t){(new Image).src=a.appendToUrl(s.resolve("www",!0)+"/common/scribe_endpoint.php",{c:e,m:c("JSON","stringify",!1,t)})}var s=t("UrlMap"),a=t("QueryString"),l={log:o};i.exports=l}),l("sdk.ErrorHandling",["sdk.feature","ManagedError","sdk.Runtime","sdk.Scribe","UserAgent","wrapFunction"],function(t,n,r,i,a){function l(e){var t=e._originalError;throw delete e._originalError,_.log("jssdk_error",{appId:m.getClientID(),error:e.name||e.message,extra:e}),t}function d(e){var t={line:e.lineNumber||e.line,message:e.message,name:e.name,script:e.fileName||e.sourceURL||e.script,stack:e.stackTrace||e.stack};t._originalError=e,b.chrome()&&/([\w:\.\/]+\.js):(\d+)/.test(e.stack)&&(t.script=RegExp.$1,t.line=parseInt(RegExp.$2,10));for(var n in t)null==t[n]&&delete t[n];return t}function u(e,t){return function(){if(!y)return e.apply(this,arguments);try{return k=t,e.apply(this,arguments)}catch(n){if(n instanceof g)throw n;var r=d(n);r.entry=t;var i=c(Array.prototype.slice.call(arguments),"map",!0,function(e){var t=Object.prototype.toString.call(e);return/^\[object (String|Number|Boolean|Object|Date)\]$/.test(t)?e:e.toString()});r.args=c("JSON","stringify",!1,i).substring(0,200),l(r)}finally{k=""}}}function p(t){return t.__wrapper||(t.__wrapper=function(){try{return t.apply(this,arguments)}catch(n){return e.setTimeout(function(){throw n},0),!1}}),t.__wrapper}function f(e,t){return function(n,r){var i=t+":"+(k||"[global]")+":"+(n.name||"[anonymous]"+(arguments.callee.caller.name?"("+arguments.callee.caller.name+")":""));return e(v(n,"entry",i),r)}}var h=n("sdk.feature"),g=n("ManagedError"),m=n("sdk.Runtime"),_=n("sdk.Scribe"),b=n("UserAgent"),v=n("wrapFunction"),y=h("error_handling",!1),k="";y&&(o=f(o,"setTimeout"),s=f(s,"setInterval"),v.setWrapper(u,"entry"));var w={guard:u,unguard:p};a.exports=w}),l("sdk.Insights",["sdk.Impressions"],function(e,t,n,r,i){var o=t("sdk.Impressions"),s={TYPE:{NOTICE:"notice",WARNING:"warn",ERROR:"error"},CATEGORY:{DEPRECATED:"deprecated",APIERROR:"apierror"},log:function(e,t,n){var r={source:"jssdk",type:e,category:t,payload:n};o.log(113,r)},impression:o.impression};i.exports=s}),l("FB",["sdk.Auth","copyProperties","dotAccess","sdk.domReady","sdk.DOM","sdk.ErrorHandling","sdk.Content","DOMWrapper","GlobalCallback","sdk.Insights","Log","sdk.Runtime","sdk.Scribe","CssConfig","SDKConfig"],function(t,n,r,o,s){function a(e,t,n,r){var i;switch(/^_/.test(n)?i="hide":u&&!u[t]&&(i=C),i){case"hide":return;case"stub":return function(){x.warn("The method FB.%s has been removed from the JS SDK.",t)};default:return b.guard(function(){function n(e){return c("Array","isArray",!1,e)?c(e,"map",!0,n):e&&"object"==typeof e&&e.__wrapped?e.__wrapped:"function"==typeof e&&/^function/.test(e.toString())?b.unguard(e):e}"warn"===i&&(x.warn("The method FB.%s is not officially supported by Facebook and access to it will soon be removed.",t),S.hasOwnProperty(t)||(w.log(w.TYPE.WARNING,w.CATEGORY.DEPRECATED,"FB."+t),E.log("jssdk_error",{appId:I.getClientID(),error:"Private method used",extra:{args:t}}),S[t]=!0));var o,s=c(Array.prototype.slice.call(arguments),"map",!0,n),l=e.apply(r,s),d=!0;if(l&&"object"==typeof l){var u=Function();u.prototype=l,o=new u,o.__wrapped=l;for(var p in l){var f=l[p];"function"==typeof f&&"constructor"!==p&&(d=!1,o[p]=a(f,t+":"+p,p,l))}}return d?d?l:o:o},t)}}function l(e,t){var n=e?g(d,e,!0):d;c(c("Object","keys",!1,t),"forEach",!0,function(r){var i=t[r];if("function"==typeof i){var o=(e?e+".":"")+r,s=a(i,o,r,t);s&&(n[r]=s)}})}var d,u,p=n("sdk.Auth"),f=n("copyProperties"),h=r("CssConfig"),g=n("dotAccess"),m=n("sdk.domReady"),_=n("sdk.DOM"),b=n("sdk.ErrorHandling"),v=n("sdk.Content"),y=n("DOMWrapper"),k=n("GlobalCallback"),w=n("sdk.Insights"),x=n("Log"),I=n("sdk.Runtime"),E=n("sdk.Scribe"),A=r("SDKConfig"),C=g(A,"api.mode"),S={};d=e.FB={};var R={};x.level=1,k.setPrefix("FB.__globalCallbacks");var N=i.createElement("div");y.setRoot(N),m(function(){x.info("domReady"),v.appendHidden(N),h.rules&&_.addCssRules(h.rules,h.components)}),I.subscribe("AccessToken.change",function(e){e||"connected"!==I.getLoginStatus()||p.getLoginStatus(null,!0)}),g(A,"api.whitelist.length")&&(u={},c(A.api.whitelist,"forEach",!0,function(e){u[e]=1})),I.setSecure(function(){var t=/iframe_canvas|app_runner/.test(e.name),n=/dialog/.test(e.name);return"https:"!=location.protocol||e!=top&&(t||n)?/_fb_https?/.test(e.name)?-1!=c(e.name,"indexOf",!0,"_fb_https"):void 0:!0}()),f(R,{provide:l}),s.exports=R}),l("ArgumentError",["ManagedError"],function(e,t,n,r,i){function o(){s.prototype.constructor.apply(this,arguments)}var s=t("ManagedError");o.prototype=new s,o.prototype.constructor=o,i.exports=o}),l("CORSRequest",["wrapFunction","QueryString"],function(e,t,n,i,o){function s(e,t){if(!r.XMLHttpRequest)return null;var n=new XMLHttpRequest,i=function(){};if("withCredentials"in n)n.open(e,t,!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded");else{if(!r.XDomainRequest)return null;n=new XDomainRequest;try{n.open(e,t),n.onprogress=n.ontimeout=i}catch(o){return null}}var s={send:function(e){n.send(e)}},a=l(function(){a=i,"onload"in s&&s.onload(n)},"entry","XMLHttpRequest:load"),c=l(function(){c=i,"onerror"in s&&s.onerror(n)},"entry","XMLHttpRequest:error");return n.onload=function(){a()},n.onerror=function(){c()},n.onreadystatechange=function(){4==n.readyState&&(200==n.status?a():c())},s}function a(e,t,n,r){n.suppress_http_code=1;var i=d.encode(n);"post"!=t&&(e=d.appendToUrl(e,i),i="");var o=s(t,e);return o?(o.onload=function(e){r(c("JSON","parse",!1,e.responseText))},o.onerror=function(e){e.responseText?r(c("JSON","parse",!1,e.responseText)):r({error:{type:"http",message:"unknown error",status:e.status}})},o.send(i),!0):!1}var l=t("wrapFunction"),d=t("QueryString"),u={execute:a};o.exports=u}),l("FlashRequest",["DOMWrapper","Flash","GlobalCallback","QueryString","Queue"],function(e,t,n,r,i){function o(){if(!l)throw new Error("swfUrl has not been set");var e=f.create(function(){a.start(function(e){var t=d.execute(e.method,e.url,e.body);if(!t)throw new Error("Could create request");m[t]=e.callback})}),t=f.create(function(e,t,n){var r;try{r=c("JSON","parse",!1,decodeURIComponent(n))}catch(i){r={error:{type:"SyntaxError",message:i.message,status:t,raw:n}}}m[e](r),delete m[e]});d=p.embed(l,u.getRoot(),null,{log:!1,initCallback:e,requestCallback:t})}function s(e,t,n,r){n.suppress_http_code=1,n.method||(n.method=t);var i=h.encode(n);if("get"===t&&e.length+i.length<2e3?(e=h.appendToUrl(e,i),i=""):t="post",!a){if(!p.isAvailable())return!1;a=new g,o()}return a.enqueue({method:t,url:e,body:i,callback:r}),!0}var a,l,d,u=t("DOMWrapper"),p=t("Flash"),f=t("GlobalCallback"),h=t("QueryString"),g=t("Queue"),m={},_={setSwfUrl:function(e){l=e},execute:s};i.exports=_}),l("flattenObject",[],function(e,t,n,r,i){function o(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(null===r||void 0===r)continue;t[n]="string"==typeof r?r:c("JSON","stringify",!1,r)}return t}i.exports=o}),l("JSONPRequest",["DOMWrapper","GlobalCallback","QueryString"],function(e,t,n,r,s){function a(e,t,n,r){var s=i.createElement("script"),a=function(e){a=function(){},c.remove(n.callback),r(e),s.parentNode.removeChild(s)};if(n.callback=c.create(a),n.method||(n.method=t),e=d.appendToUrl(e,n),e.length>2e3)return c.remove(n.callback),!1;s.onerror=function(){a({error:{type:"http",message:"unknown error"}})};var u=function(){o(function(){a({error:{type:"http",message:"unknown error"}})},0)};return s.addEventListener?s.addEventListener("load",u,!1):s.onreadystatechange=function(){/loaded|complete/.test(this.readyState)&&u()},s.src=e,l.getRoot().appendChild(s),!0}var l=t("DOMWrapper"),c=t("GlobalCallback"),d=t("QueryString"),u={execute:a};s.exports=u}),l("keyMirror",["invariant"],function(e,t,n,r,i){"use strict";var o=t("invariant"),s=function(e){var t,n={};o(e instanceof Object&&!c("Array","isArray",!1,e));for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};i.exports=s}),l("mergeHelpers",["invariant","keyMirror"],function(e,t,n,r,i){"use strict";var o=t("invariant"),s=t("keyMirror"),a=36,l=function(e){return"object"!=typeof e||null===e},d={MAX_MERGE_DEPTH:a,isTerminal:l,normalizeMergeArg:function(e){return void 0===e||null===e?{}:e},checkMergeArrayArgs:function(e,t){o(c("Array","isArray",!1,e)&&c("Array","isArray",!1,t))},checkMergeObjectArgs:function(e,t){d.checkMergeObjectArg(e),d.checkMergeObjectArg(t)},checkMergeObjectArg:function(e){o(!l(e)&&!c("Array","isArray",!1,e))},checkMergeLevel:function(e){o(a>e)},checkArrayStrategy:function(e){o(void 0===e||e in d.ArrayStrategies)},ArrayStrategies:s({Clobber:!0,IndexByIndex:!0})};i.exports=d}),l("mergeInto",["mergeHelpers"],function(e,t,n,r,i){"use strict";function o(e,t){if(a(e),null!=t){a(t);for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}}var s=t("mergeHelpers"),a=s.checkMergeObjectArg;i.exports=o}),l("merge",["mergeInto"],function(e,t,n,r,i){"use strict";var o=t("mergeInto"),s=function(e,t){var n={};return o(n,e),o(n,t),n};i.exports=s}),l("ApiClient",["ArgumentError","Assert","copyProperties","CORSRequest","FlashRequest","flattenObject","JSONPRequest","Log","merge","ObservableMixin","sprintf","URL","UrlMap","ApiClientConfig"],function(e,t,n,r,i){function o(e,t,n,r){p&&(n=g({},p,n)),n.access_token=n.access_token||d,n.pretty=n.pretty||0,n=b(n);var i,o={jsonp:v,cors:m,flash:_};n.transport?(i=[n.transport],delete n.transport):i=["jsonp","cors","flash"];for(var s=0;s<i.length;s++){var a=o[i[s]],l=g({},n);if(a.execute(e,t,l,r))return}r({error:{type:"no-transport",message:"Could not find a usable transport for request"}})}function s(e,t,n,r,i){R.inform("request.complete",t,n,r,i),e&&e(i)}function a(e){h.isString(e,"Invalid path");var t,n={};try{t=new I(e)}catch(r){throw new f(r.message,r)}c(Array.prototype.slice.call(arguments,1),"forEach",!0,function(e){n[typeof e]=e});var i=(n.string||"get").toLowerCase(),a=k(n.object||{},t.getParsedSearch()),l=n["function"];l||y.warn("No callback passed to the ApiClient");var d=c(s,"bind",!0,null,l,t.getPath(),i,a);h.isTrue(i in C,x("Invalid method passed to ApiClient: %s",i)),a.method=i,t=E.resolve("graph")+t.getPath(),o(t,"get"==i?"get":"post",a,d)}function l(e,t){h.isObject(e),h.isString(e.method,"method missing"),t||y.warn("No callback passed to the ApiClient");var n=e.method.toLowerCase().replace(".","_");e.format="json-strings",e.api_key=u;var r=n in S?"api_read":"api",i=E.resolve(r)+"/restserver.php",a=c(s,"bind",!0,null,t,"/restserver.php","get",e);o(i,"get",e,a)}var d,u,p,f=t("ArgumentError"),h=t("Assert"),g=t("copyProperties"),m=t("CORSRequest"),_=t("FlashRequest"),b=t("flattenObject"),v=t("JSONPRequest"),y=t("Log"),k=t("merge"),w=t("ObservableMixin"),x=t("sprintf"),I=t("URL"),E=t("UrlMap"),A=t("ApiClientConfig"),C={get:!0,post:!0,"delete":!0,put:!0},S={fql_query:!0,fql_multiquery:!0,friends_get:!0,notifications_get:!0,stream_get:!0,users_getinfo:!0},R=g(new w,{setAccessToken:function(e){d=e},setClientID:function(e){u=e},setDefaultParams:function(e){p=e},rest:l,graph:a});_.setSwfUrl(A.FlashRequest.swfUrl),i.exports=R}),l("sdk.api",["ApiClient","sdk.Runtime"],function(e,t,n,r,i){function o(){"string"==typeof arguments[0]?a.graph.apply(a,arguments):a.rest.apply(a,arguments)}var s,a=t("ApiClient"),l=t("sdk.Runtime");l.subscribe("ClientID.change",function(e){a.setClientID(e)}),l.subscribe("AccessToken.change",function(e){s=e,a.setAccessToken(e)}),a.setDefaultParams({sdk:"joey"}),a.subscribe("request.complete",function(e,t,n,r){var i=!1;r&&"object"==typeof r&&(r.error?("invalid_token"==r.error||"OAuthException"==r.error.type&&190==r.error.code)&&(i=!0):r.error_code&&"190"==r.error_code&&(i=!0)),i&&s===l.getAccessToken()&&l.setAccessToken(null)}),a.subscribe("request.complete",function(e,t,n,r){("/me/permissions"==e&&"delete"===t||"/restserver.php"==e&&"Auth.revokeAuthorization"==n.method)&&r===!0&&l.setAccessToken(null)}),i.exports=o}),l("legacy:fb.api",["FB","sdk.api"],function(e,t){var n=t("FB"),r=t("sdk.api");n.provide("",{api:r})},3),l("sdk.Canvas.Environment",["sdk.RPC"],function(e,t,n,r,i){function o(e){a.remote.getPageInfo(function(t){e(t.result)})}function s(e,t){a.remote.scrollTo({x:e||0,y:t||0})}var a=t("sdk.RPC");a.stub("getPageInfo"),a.stub("scrollTo");var l={getPageInfo:o,scrollTo:s};i.exports=l}),l("sdk.Intl",["Log"],function(e,t,n,r,i){function o(e){return"string"!=typeof e?!1:!!e.match(new RegExp(c+"[)\"'\\s]*$"))}function s(e,t){if(void 0!==t)if("object"!=typeof t)l.error("The second arg to FB.Intl.tx() must be an Object for FB.Intl.tx("+e+", ...)");else{var n;for(var r in t)t.hasOwnProperty(r)&&(n=o(t[r])?new RegExp("\\{"+r+"\\}"+c+"*","g"):new RegExp("\\{"+r+"\\}","g"),e=e.replace(n,t[r]))}return e}function a(){throw new Error("Placeholder function")}var l=t("Log"),c="[.!?]";a._=s,i.exports={tx:a}}),l("sdk.Dialog",["sdk.Canvas.Environment","sdk.Content","sdk.DOM","DOMEventListener","sdk.Intl","ObservableMixin","sdk.Runtime","Type","UserAgent"],function(t,n,r,s,a){var l=n("sdk.Canvas.Environment"),d=n("sdk.Content"),u=n("sdk.DOM"),p=n("DOMEventListener"),f=n("sdk.Intl"),h=n("ObservableMixin"),g=n("sdk.Runtime"),m=n("Type"),_=n("UserAgent"),b=m.extend({constructor:function(e,t){this.parent(),this.id=e,this.display=t,this._e2e={},v._dialogs||(v._dialogs={},v._addOrientationHandler()),v._dialogs[e]=this,this.trackEvent("init")},trackEvent:function(e,t){return this._e2e[e]?this:(this._e2e[e]=t||c("Date","now",!1),"close"==e&&this.inform("e2e:end",this._e2e),this)},trackEvents:function(e){if(!e)return this;"string"==typeof e&&(e=c("JSON","parse",!1,e));for(var t in e)e.hasOwnProperty(t)&&this.trackEvent(t,e[t]);return this}},h),v={newInstance:function(e,t){return new b(e,t)},_dialogs:null,_lastYOffset:0,_loaderEl:null,_overlayEl:null,_stack:[],_active:null,get:function(e){return v._dialogs[e]},_findRoot:function(e){for(;e;){if(u.containsCss(e,"fb_dialog"))return e;e=e.parentNode}},_createWWWLoader:function(e){return e=e?e:460,v.create({content:'<div class="dialog_title">  <a id="fb_dialog_loader_close">    <div class="fb_dialog_close_icon"></div>  </a>  <span>Facebook</span>  <div style="clear:both;"></div></div><div class="dialog_content"></div><div class="dialog_footer"></div>',width:e})},_createMobileLoader:function(){var e=_.nativeApp()?"":'<table>  <tbody>    <tr>      <td class="header_left">        <label class="touchable_button">          <input type="submit" value="'+f.tx._("Cancel")+'"            id="fb_dialog_loader_close"/>        </label>      </td>      <td class="header_center">        <div>'+f.tx._("Loading...")+'</div>      </td>      <td class="header_right">      </td>    </tr>  </tbody></table>';return v.create({classes:"loading"+(_.ipad()?" centered":""),content:'<div class="dialog_header">'+e+"</div>"})},_restoreBodyPosition:function(){if(!_.ipad()){var e=i.getElementsByTagName("body")[0];u.removeCss(e,"fb_hidden")}},_showIPadOverlay:function(){_.ipad()&&(v._overlayEl||(v._overlayEl=i.createElement("div"),v._overlayEl.setAttribute("id","fb_dialog_ipad_overlay"),d.append(v._overlayEl,null)),v._overlayEl.className="")},_hideIPadOverlay:function(){_.ipad()&&(v._overlayEl.className="hidden")},showLoader:function(e,t){v._showIPadOverlay(),v._loaderEl||(v._loaderEl=v._findRoot(_.mobile()?v._createMobileLoader():v._createWWWLoader(t))),e||(e=function(){});var n=i.getElementById("fb_dialog_loader_close");u.removeCss(n,"fb_hidden"),n.onclick=function(){v._hideLoader(),v._restoreBodyPosition(),v._hideIPadOverlay(),e()};var r=i.getElementById("fb_dialog_ipad_overlay");r&&(r.ontouchstart=n.onclick),v._makeActive(v._loaderEl)},_hideLoader:function(){v._loaderEl&&v._loaderEl==v._active&&(v._loaderEl.style.top="-10000px")},_makeActive:function(e){v._setDialogSizes(),v._lowerActive(),v._active=e,g.isEnvironment(g.ENVIRONMENTS.CANVAS)&&l.getPageInfo(function(e){v._centerActive(e)}),v._centerActive()},_lowerActive:function(){v._active&&(v._active.style.top="-10000px",v._active=null)},_removeStacked:function(e){v._stack=c(v._stack,"filter",!0,function(t){return t!=e})},_centerActive:function(e){var t=v._active;if(t){var n=u.getViewportInfo(),r=parseInt(t.offsetWidth,10),o=parseInt(t.offsetHeight,10),s=n.scrollLeft+(n.width-r)/2,a=(n.height-o)/2.5;a>s&&(a=s);var l=n.height-o-a,c=(n.height-o)/2;if(e&&(c=e.scrollTop-e.offsetTop+(e.clientHeight-o)/2),a>c?c=a:c>l&&(c=l),c+=n.scrollTop,_.mobile()){var d=100;if(_.ipad())d+=(n.height-o)/2;else{var p=i.getElementsByTagName("body")[0];u.addCss(p,"fb_hidden"),c=1e4}var f=u.getByClass("fb_dialog_padding",t);f.length&&(f[0].style.height=d+"px")}t.style.left=(s>0?s:0)+"px",t.style.top=(c>0?c:0)+"px"}},_setDialogSizes:function(){if(_.mobile()&&!_.ipad())for(var e in v._dialogs)if(v._dialogs.hasOwnProperty(e)){var t=i.getElementById(e);t&&(t.style.width=v.getDefaultSize().width+"px",t.style.height=v.getDefaultSize().height+"px")}},getDefaultSize:function(){if(_.mobile()){if(_.ipad())return{width:500,height:590};if(_.android())return{width:screen.availWidth,height:screen.availHeight};var t=e.innerWidth,n=e.innerHeight,r=t/n>1.2;return{width:t,height:Math.max(n,r?screen.width:screen.height)}}return{width:575,height:240}},_handleOrientationChange:function(){if(_.android()&&screen.availWidth==v._availScreenWidth)return o(v._handleOrientationChange,50),void 0;if(v._availScreenWidth=screen.availWidth,_.ipad())v._centerActive();else{var e=v.getDefaultSize().width;for(var t in v._dialogs)if(v._dialogs.hasOwnProperty(t)){var n=i.getElementById(t);n&&(n.style.width=e+"px")}}},_addOrientationHandler:function(){if(_.mobile()){var t="onorientationchange"in e?"orientationchange":"resize";v._availScreenWidth=screen.availWidth,p.add(e,t,v._handleOrientationChange)}},create:function(e){e=e||{};var t=i.createElement("div"),n=i.createElement("div"),r="fb_dialog";if(e.closeIcon&&e.onClose){var o=i.createElement("a");o.className="fb_dialog_close_icon",o.onclick=e.onClose,t.appendChild(o)}r+=" "+(e.classes||""),_.ie()?(r+=" fb_dialog_legacy",c(["vert_left","vert_right","horiz_top","horiz_bottom","top_left","top_right","bottom_left","bottom_right"],"forEach",!0,function(e){var n=i.createElement("span");n.className="fb_dialog_"+e,t.appendChild(n)})):r+=_.mobile()?" fb_dialog_mobile":" fb_dialog_advanced",e.content&&d.append(e.content,n),t.className=r;var s=parseInt(e.width,10);if(isNaN(s)||(t.style.width=s+"px"),n.className="fb_dialog_content",t.appendChild(n),_.mobile()){var a=i.createElement("div");a.className="fb_dialog_padding",t.appendChild(a)}return d.append(t),e.visible&&v.show(t),n},show:function(e){var t=v._findRoot(e);t&&(v._removeStacked(t),v._hideLoader(),v._makeActive(t),v._stack.push(t),"fbCallID"in e&&v.get(e.fbCallID).inform("iframe_show").trackEvent("show"))},hide:function(e){var t=v._findRoot(e);v._hideLoader(),t==v._active&&(v._lowerActive(),v._restoreBodyPosition(),v._hideIPadOverlay(),"fbCallID"in e&&v.get(e.fbCallID).inform("iframe_hide").trackEvent("hide"))},remove:function(e){if(e=v._findRoot(e)){var t=v._active==e;v._removeStacked(e),t?(v._hideLoader(),v._stack.length>0?v.show(v._stack.pop()):(v._lowerActive(),v._restoreBodyPosition(),v._hideIPadOverlay())):null===v._active&&v._stack.length>0&&v.show(v._stack.pop()),o(function(){e.parentNode.removeChild(e)},3e3)}},isActive:function(e){var t=v._findRoot(e);return t&&t===v._active}};a.exports=v}),l("sdk.Frictionless",["sdk.Auth","sdk.api","sdk.Event","sdk.Dialog"],function(e,t,n,r,i){var o=t("sdk.Auth"),s=t("sdk.api"),a=t("sdk.Event"),l=t("sdk.Dialog"),d={_allowedRecipients:{},_useFrictionless:!1,_updateRecipients:function(){d._allowedRecipients={},s("/me/apprequestformerrecipients",function(e){e&&!e.error&&c(e.data,"forEach",!0,function(e){d._allowedRecipients[e.recipient_id]=!0})})},init:function(){d._useFrictionless=!0,o.getLoginStatus(function(e){"connected"==e.status&&d._updateRecipients()}),a.subscribe("auth.login",function(e){e.authResponse&&d._updateRecipients()})},_processRequestResponse:function(e,t){return function(n){var r=n&&n.updated_frictionless;d._useFrictionless&&r&&d._updateRecipients(),n&&(!t&&n.frictionless&&(l._hideLoader(),l._restoreBodyPosition(),l._hideIPadOverlay()),delete n.frictionless,delete n.updated_frictionless),e&&e(n)}},isAllowed:function(e){if(!e)return!1;if("number"==typeof e)return e in d._allowedRecipients;"string"==typeof e&&(e=e.split(",")),e=c(e,"map",!0,function(e){return c(String(e),"trim",!0)});var t=!0,n=!1;return c(e,"forEach",!0,function(e){t=t&&e in d._allowedRecipients,n=!0}),t&&n}};a.subscribe("init:post",function(e){e.frictionlessRequests&&d.init()}),i.exports=d}),l("insertIframe",["guid","GlobalCallback"],function(e,t,n,r,s){function a(e){e.id=e.id||l(),e.name=e.name||l();var t=!1,n=!1,r=function(){t&&!n&&(n=!0,e.onload&&e.onload(e.root.firstChild))},s=c.create(r);if(i.attachEvent){var a='<iframe id="'+e.id+'" name="'+e.name+'"'+(e.title?' title="'+e.title+'"':"")+(e.className?' class="'+e.className+'"':"")+' style="border:none;'+(e.width?"width:"+e.width+"px;":"")+(e.height?"height:"+e.height+"px;":"")+'" src="javascript:false;" frameborder="0" scrolling="no" allowtransparency="true" onload="'+s+'()"></iframe>';e.root.innerHTML='<iframe src="javascript:false" frameborder="0" scrolling="no" style="height:1px"></iframe>',t=!0,o(function(){e.root.innerHTML=a,e.root.firstChild.src=e.url,e.onInsert&&e.onInsert(e.root.firstChild)},0)}else{var d=i.createElement("iframe");d.id=e.id,d.name=e.name,d.onload=r,d.scrolling="no",d.style.border="none",d.style.overflow="hidden",e.title&&(d.title=e.title),e.className&&(d.className=e.className),void 0!==e.height&&(d.style.height=e.height+"px"),void 0!==e.width&&(d.style.width="100%"==e.width?e.width:e.width+"px"),e.root.appendChild(d),t=!0,d.src=e.url,e.onInsert&&e.onInsert(d)}}var l=t("guid"),c=t("GlobalCallback");s.exports=a}),l("sdk.Native",["copyProperties","Log","UserAgent"],function(t,n,r,i,o){var s=n("copyProperties"),a=n("Log"),l=n("UserAgent"),c="fbNativeReady",d={onready:function(t){if(!l.nativeApp())return a.error("FB.Native.onready only works when the page is rendered in a WebView of the native Facebook app. Test if this is the case calling FB.UA.nativeApp()"),void 0;if(e.__fbNative&&!this.nativeReady&&s(this,e.__fbNative),this.nativeReady)t();else{var n=function(){e.removeEventListener(c,n),this.onready(t)};e.addEventListener(c,n,!1)}}};o.exports=d}),l("sdk.UIServer",["sdk.Auth","sdk.Content","copyProperties","sdk.Dialog","sdk.DOM","sdk.Event","flattenObject","sdk.Frictionless","sdk.getContextType","guid","insertIframe","Log","sdk.Native","QueryString","resolveURI","sdk.RPC","sdk.Runtime","UrlMap","UserAgent","sdk.XD","SDKConfig"],function(t,n,r,a,l){var d=n("sdk.Auth"),u=n("sdk.Content"),p=n("copyProperties"),f=n("sdk.Dialog"),h=n("sdk.DOM"),g=n("sdk.Event"),m=n("flattenObject"),_=n("sdk.Frictionless"),b=n("sdk.getContextType"),v=n("guid"),y=n("insertIframe"),k=n("Log"),w=n("sdk.Native"),x=n("QueryString"),I=n("resolveURI"),E=n("sdk.RPC"),A=n("sdk.Runtime"),C=r("SDKConfig"),S=n("UrlMap"),R=n("UserAgent"),N=n("sdk.XD"),T={transform:function(t){return"touch"===t.params.display&&t.params.access_token&&e.postMessage?(t.params.channel=P._xdChannelHandler(t.id,"parent"),R.nativeApp()||(t.params.in_iframe=1),t):P.genericTransform(t)},getXdRelation:function(t){var n=t.display;return"touch"===n&&e.postMessage&&t.in_iframe?"parent":P.getXdRelation(t)}},O={"stream.share":{size:{width:670,height:340},url:"sharer.php",transform:function(t){return t.params.u||(t.params.u=e.location.toString()),t.params.display="popup",t}},apprequests:{transform:function(e){return e=T.transform(e),e.params.frictionless=_&&_._useFrictionless,e.params.frictionless&&(_.isAllowed(e.params.to)&&(e.params.display="iframe",e.params.in_iframe=!0,e.hideLoader=!0),e.cb=_._processRequestResponse(e.cb,e.hideLoader)),e.closeIcon=!1,e},getXdRelation:T.getXdRelation},feed:T,"permissions.oauth":{url:"dialog/oauth",size:{width:R.mobile()?null:475,height:R.mobile()?null:183},transform:function(e){if(!A.getClientID())return k.error("FB.login() called before FB.init()."),void 0;if(d.getAuthResponse()&&!e.params.scope&&!e.params.auth_type)return k.error("FB.login() called when user is already connected."),e.cb&&e.cb({status:A.getLoginStatus(),authResponse:d.getAuthResponse()}),void 0;
var t=e.cb,n=e.id;return delete e.cb,"async"===e.params.display?(p(e.params,{client_id:A.getClientID(),origin:b(),response_type:"token,signed_request",domain:location.hostname}),e.cb=d.xdResponseWrapper(t,d.getAuthResponse(),"permissions.oauth")):p(e.params,{client_id:A.getClientID(),redirect_uri:I(P.xdHandler(t,n,"opener",d.getAuthResponse(),"permissions.oauth")),origin:b(),response_type:"token,signed_request",domain:location.hostname}),e}},"auth.logout":{url:"logout.php",transform:function(e){if(A.getClientID()){if(d.getAuthResponse())return e.params.next=P.xdHandler(e.cb,e.id,"parent",d.getAuthResponse(),"logout"),e;k.error("FB.logout() called without an access token.")}else k.error("FB.logout() called before calling FB.init().")}},"login.status":{url:"dialog/oauth",transform:function(e){var t=e.cb,n=e.id;return delete e.cb,p(e.params,{client_id:A.getClientID(),redirect_uri:P.xdHandler(t,n,"parent",d.getAuthResponse(),"login_status"),origin:b(),response_type:"token,signed_request,code",domain:location.hostname}),e}}},P={Methods:O,_loadedNodes:{},_defaultCb:{},_resultToken:'"xxRESULTTOKENxx"',genericTransform:function(e){return("dialog"==e.params.display||"iframe"==e.params.display)&&p(e.params,{display:"iframe",channel:P._xdChannelHandler(e.id,"parent.parent")},!0),e},checkOauthDisplay:function(e){var t=e.scope||e.perms||A.getScope();if(!t)return e.display;for(var n=t.split(/\s|,/g),r=0;r<n.length;r++)if(!C.initSitevars.iframePermissions[c(n[r],"trim",!0)])return"popup";return e.display},prepareCall:function(e,t){var n=e.method.toLowerCase(),r=p({},P.Methods[n]),i=v(),o=A.getSecure()||"auth.status"!==n&&"login.status"!=n;p(e,{app_id:A.getClientID(),locale:A.getLocale(),sdk:"joey",access_token:o&&A.getAccessToken()||void 0}),e.display=P.getDisplayMode(r,e),r.url||(r.url="dialog/"+n),"dialog/oauth"!=r.url&&"dialog/permissions.request"!=r.url||!("iframe"==e.display||"touch"==e.display&&e.in_iframe)||(e.display=P.checkOauthDisplay(e));var s={cb:t,id:i,size:r.size||P.getDefaultSize(),url:S.resolve("touch"==e.display?"m":"www",o)+"/"+r.url,params:e,name:n,dialog:f.newInstance(i,e.display)},a=r.transform?r.transform:P.genericTransform;if(!a||(s=a(s))){var l=r.getXdRelation||P.getXdRelation,c=l(s.params);return s.id in P._defaultCb||"next"in s.params||"redirect_uri"in s.params||(s.params.next=P._xdResult(s.cb,s.id,c,!0)),"parent"===c&&p(s.params,{channel_url:P._xdChannelHandler(i,"parent.parent")},!0),s=P.prepareParams(s)}},prepareParams:function(e){e.params.method;"async"!==e.params.display&&delete e.params.method,e.params=m(e.params);var t=x.encode(e.params);return!R.nativeApp()&&P.urlTooLongForIE(e.url+"?"+t)?e.post=!0:t&&(e.url+="?"+t),e},urlTooLongForIE:function(e){return e.length>2e3},getDisplayMode:function(e,t){if("hidden"===t.display||"none"===t.display)return t.display;var n=A.isEnvironment(A.ENVIRONMENTS.CANVAS)||A.isEnvironment(A.ENVIRONMENTS.PAGETAB);return n&&!t.display?"async":R.mobile()||"touch"===t.display?"touch":A.getAccessToken()||"dialog"!=t.display||e.loggedOutIframe?e.connectDisplay&&!n?e.connectDisplay:t.display||(A.getAccessToken()?"dialog":"popup"):(k.error('"dialog" mode can only be used when the user is connected.'),"popup")},getXdRelation:function(t){var n=t.display;return"popup"===n||"touch"===n?"opener":"dialog"===n||"iframe"===n||"hidden"===n||"none"===n?"parent":"async"===n?"parent.frames["+e.name+"]":void 0},popup:function(t){var n="undefined"!=typeof e.screenX?e.screenX:e.screenLeft,r="undefined"!=typeof e.screenY?e.screenY:e.screenTop,o="undefined"!=typeof e.outerWidth?e.outerWidth:i.documentElement.clientWidth,s="undefined"!=typeof e.outerHeight?e.outerHeight:i.documentElement.clientHeight-22,a=R.mobile()?null:t.size.width,l=R.mobile()?null:t.size.height,c=0>n?e.screen.width+n:n,d=parseInt(c+(o-a)/2,10),p=parseInt(r+(s-l)/2.5,10),f=[];null!==a&&f.push("width="+a),null!==l&&f.push("height="+l),f.push("left="+d),f.push("top="+p),f.push("scrollbars=1"),("permissions.request"==t.name||"permissions.oauth"==t.name)&&f.push("location=1,toolbar=0"),f=f.join(",");var h;t.post?(h=e.open("about:blank",t.id,f),h&&(P.setLoadedNode(t,h,"popup"),u.submitToTarget({url:t.url,target:t.id,params:t.params}))):(h=e.open(t.url,t.id,f),h&&P.setLoadedNode(t,h,"popup")),h&&t.id in P._defaultCb&&P._popupMonitor()},setLoadedNode:function(e,t,n){e.params&&"popup"!=e.params.display&&(t.fbCallID=e.id),t={node:t,type:n,fbCallID:e.id},P._loadedNodes[e.id]=t},getLoadedNode:function(e){var t="object"==typeof e?e.id:e,n=P._loadedNodes[t];return n?n.node:null},hidden:function(e){e.className="FB_UI_Hidden",e.root=u.appendHidden(""),P._insertIframe(e)},iframe:function(e){e.className="FB_UI_Dialog";var t=function(){P._triggerDefault(e.id)};e.root=f.create({onClose:t,closeIcon:void 0===e.closeIcon?!0:e.closeIcon,classes:R.ipad()?"centered":""}),e.hideLoader||f.showLoader(t,e.size.width),h.addCss(e.root,"fb_dialog_iframe"),P._insertIframe(e)},touch:function(e){e.params&&e.params.in_iframe?e.ui_created?f.showLoader(function(){P._triggerDefault(e.id)},0):P.iframe(e):R.nativeApp()&&!e.ui_created?(e.frame=e.id,w.onready(function(){P.setLoadedNode(e,w.open(e.url+"#cb="+e.frameName),"native")}),P._popupMonitor()):e.ui_created||P.popup(e)},async:function(e){e.params.redirect_uri=location.protocol+"//"+location.host+location.pathname,delete e.params.access_token,E.remote.showDialog(e.params,function(t){var n=f.get(e.id);t.result&&n.trackEvents(t.result.e2e),n.trackEvent("close"),e.cb(t.result)})},getDefaultSize:function(){return f.getDefaultSize()},_insertIframe:function(e){P._loadedNodes[e.id]=!1;var t=function(t){e.id in P._loadedNodes&&P.setLoadedNode(e,t,"iframe")};e.post?y({url:"about:blank",root:e.root,className:e.className,width:e.size.width,height:e.size.height,id:e.id,onInsert:t,onload:function(t){u.submitToTarget({url:e.url,target:t.name,params:e.params})}}):y({url:e.url,root:e.root,className:e.className,width:e.size.width,height:e.size.height,id:e.id,name:e.frameName,onInsert:t})},_handleResizeMessage:function(e,t){var n=P.getLoadedNode(e);n&&(t.height&&(n.style.height=t.height+"px"),t.width&&(n.style.width=t.width+"px"),N.inform("resize.ack",t||{},"parent.frames["+n.name+"]"),f.isActive(n)||f.show(n))},_triggerDefault:function(e){P._xdRecv({frame:e},P._defaultCb[e]||function(){})},_popupMonitor:function(){var e;for(var t in P._loadedNodes)if(P._loadedNodes.hasOwnProperty(t)&&t in P._defaultCb){var n=P._loadedNodes[t];if("popup"!=n.type&&"native"!=n.type)continue;var r=n.node;try{r.closed?P._triggerDefault(t):e=!0}catch(i){}}e&&!P._popupInterval?P._popupInterval=s(P._popupMonitor,100):!e&&P._popupInterval&&(clearInterval(P._popupInterval),P._popupInterval=null)},_xdChannelHandler:function(e,t){return N.handler(function(t){var n=P.getLoadedNode(e);if(n)if("resize"==t.type)P._handleResizeMessage(e,t);else if("hide"==t.type)f.hide(n);else if("rendered"==t.type){var r=f._findRoot(n);f.show(r)}else"fireevent"==t.type&&g.fire(t.event)},t,!0,null)},_xdNextHandler:function(e,t,n,r){return r&&(P._defaultCb[t]=e),N.handler(function(t){P._xdRecv(t,e)},n)+"&frame="+t},_xdRecv:function(t,n){var r=P.getLoadedNode(t.frame);if(r)if(r.close)try{r.close(),/iPhone.*Version\/(5|6)/.test(navigator.userAgent)&&"5"!==RegExp.$1&&e.focus(),P._popupCount--}catch(i){}else h.containsCss(r,"FB_UI_Hidden")?o(function(){r.parentNode.parentNode.removeChild(r.parentNode)},3e3):h.containsCss(r,"FB_UI_Dialog")&&f.remove(r);delete P._loadedNodes[t.frame],delete P._defaultCb[t.frame];var s=f.get(t.frame);s.trackEvents(t.e2e),s.trackEvent("close"),n(t)},_xdResult:function(e,t,n,r){return P._xdNextHandler(function(t){e&&e(t.result&&t.result!=P._resultToken&&c("JSON","parse",!1,t.result))},t,n,r)+"&result="+encodeURIComponent(P._resultToken)},xdHandler:function(e,t,n,r,i){return P._xdNextHandler(d.xdResponseWrapper(e,r,i),t,n,!0)}};E.stub("showDialog"),l.exports=P}),l("sdk.ui",["Assert","copyProperties","sdk.feature","sdk.Impressions","Log","sdk.UIServer"],function(e,t,n,r,i){function o(e,t){if(s.isObject(e),s.maybeFunction(t),e=a({},e),!e.method)return u.error('"method" is a required parameter for FB.ui().'),null;var n=e.method;e.redirect_uri&&(u.warn("When using FB.ui, you should not specify a redirect_uri."),delete e.redirect_uri),"permissions.request"!=n&&"permissions.oauth"!=n||"iframe"!=e.display&&"dialog"!=e.display||(e.display=p.checkOauthDisplay(e));var r=l("e2e_tracking",!0);r&&(e.e2e={});var i=p.prepareCall(e,t||function(){});if(!i)return null;var o=i.params.display;"dialog"===o?o="iframe":"none"===o&&(o="hidden");var f=p[o];return f?(r&&i.dialog.subscribe("e2e:end",function(e){e.method=n,e.display=o,u.debug("e2e: %s",c("JSON","stringify",!1,e)),d.log(114,{payload:e})}),f(i),i.dialog):(u.error('"display" must be one of "popup", "dialog", "iframe", "touch", "async", "hidden", or "none"'),null)}var s=t("Assert"),a=t("copyProperties"),l=t("sdk.feature"),d=t("sdk.Impressions"),u=t("Log"),p=t("sdk.UIServer");i.exports=o}),l("legacy:fb.auth",["sdk.Auth","sdk.Cookie","copyProperties","sdk.Event","FB","Log","sdk.Runtime","sdk.SignedRequest","sdk.ui"],function(e,t){var n=t("sdk.Auth"),r=t("sdk.Cookie"),i=t("copyProperties"),o=t("sdk.Event"),s=t("FB"),a=t("Log"),l=t("sdk.Runtime"),d=t("sdk.SignedRequest"),u=t("sdk.ui");s.provide("",{getLoginStatus:function(){return n.getLoginStatus.apply(n,arguments)},getAuthResponse:function(){return n.getAuthResponse()},getAccessToken:function(){return l.getAccessToken()||null},getUserID:function(){return l.getUserID()||l.getCookieUserID()},login:function(e,t){t&&t.perms&&!t.scope&&(t.scope=t.perms,delete t.perms,a.warn("OAuth2 specification states that 'perms' should now be called 'scope'.  Please update."));var n=l.isEnvironment(l.ENVIRONMENTS.CANVAS)||l.isEnvironment(l.ENVIRONMENTS.PAGETAB);u(i({method:"permissions.oauth",display:n?"async":"popup",domain:location.hostname},t||{}),e)},logout:function(e){u({method:"auth.logout",display:"hidden"},e)}}),n.subscribe("logout",c(o.fire,"bind",!0,o,"auth.logout")),n.subscribe("login",c(o.fire,"bind",!0,o,"auth.login")),n.subscribe("authresponse.change",c(o.fire,"bind",!0,o,"auth.authResponseChange")),n.subscribe("status.change",c(o.fire,"bind",!0,o,"auth.statusChange")),o.subscribe("init:post",function(e){if(e.status&&n.getLoginStatus(),l.getClientID())if(e.authResponse)n.setAuthResponse(e.authResponse,"connected");else if(l.getUseCookie()){var t,i=r.loadSignedRequest();if(i){try{t=d.parse(i)}catch(o){r.clearSignedRequestCookie()}t&&t.user_id&&l.setCookieUserID(t.user_id)}r.loadMeta()}})},3),l("sdk.Canvas.Plugin",["sdk.api","sdk.RPC","Log","sdk.Runtime","createArrayFrom"],function(t,n,r,i,s){function a(e){e._hideunity_savedstyle={},e._hideunity_savedstyle.left=e.style.left,e._hideunity_savedstyle.position=e.style.position,e._hideunity_savedstyle.width=e.style.width,e._hideunity_savedstyle.height=e.style.height,e.style.left="-10000px",e.style.position="absolute",e.style.width="1px",e.style.height="1px"}function l(e){e._hideunity_savedstyle&&(e.style.left=e._hideunity_savedstyle.left,e.style.position=e._hideunity_savedstyle.position,e.style.width=e._hideunity_savedstyle.width,e.style.height=e._hideunity_savedstyle.height)}function d(e){e._old_visibility=e.style.visibility,e.style.visibility="hidden"}function u(e){e.style.visibility=e._old_visibility||"",delete e._old_visibility}function p(e){var t="application/x-shockwave-flash"===e.type.toLowerCase()||e.classid&&e.classid.toUpperCase()==w;if(!t)return!1;var n=/opaque|transparent/i;if(n.test(e.getAttribute("wmode")))return!1;for(var r=0;r<e.childNodes.length;r++){var i=e.childNodes[r];if(/param/i.test(i.nodeName)&&/wmode/i.test(i.name)&&n.test(i.value))return!1}return!0}function f(e){return"application/vnd.unity"===e.type.toLowerCase()||e.classid&&e.classid.toUpperCase()==x}function h(t){var n=k(e.document.getElementsByTagName("object"));n=n.concat(k(e.document.getElementsByTagName("embed"))),c(n,"forEach",!0,function(e){var n=p(e),r=f(e);if(n||r){var i=function(){"opened"===t.state?n?d(e):a(e):n?u(e):l(e)};if(I){v.info("Calling developer specified callback");var s={state:t.state,elem:e};I(s),o(i,200)}else i();Math.random()<=.001&&_(y.getClientID()+"/occludespopups","post",{})}})}function g(){d(),a()}function m(){u(),l()}var _=n("sdk.api"),b=n("sdk.RPC"),v=n("Log"),y=n("sdk.Runtime"),k=n("createArrayFrom"),w="CLSID:D27CDB6E-AE6D-11CF-96B8-444553540000",x="CLSID:444785F1-DE89-4295-863A-D46C3A781394",I=null;b.local.hidePluginObjects=function(){v.info("hidePluginObjects called"),h({state:"opened"})},b.local.showPluginObjects=function(){v.info("showPluginObjects called"),h({state:"closed"})},b.local.showFlashObjects=b.local.showPluginObjects,b.local.hideFlashObjects=b.local.hidePluginObjects;var E={_setHidePluginCallback:function(e){I=e},hidePluginElement:g,showPluginElement:m};s.exports=E}),l("sdk.Canvas.IframeHandling",["DOMWrapper","sdk.RPC"],function(t,n,r,i,o){function a(){var e=u.getWindow().document,t=e.body,n=e.documentElement,r=Math.max(t.offsetTop,0),i=Math.max(n.offsetTop,0),o=t.scrollHeight+r,s=t.offsetHeight+r,a=n.scrollHeight+i,l=n.offsetHeight+i;return Math.max(o,s,a,l)}function l(t){"object"!=typeof t&&(t={});var n=0,r=0;if(t.height||(t.height=a(),n=16,r=4),t.frame||(t.frame=e.name||"iframe_canvas"),d){var i=d.height,o=t.height-i;if(r>=o&&o>=-n)return!1}return d=t,p.remote.setSize(t),!0}function c(e,t){void 0===t&&"number"==typeof e&&(t=e,e=!0),e||void 0===e?(null===f&&(f=s(function(){l()},t||100)),l()):null!==f&&(clearInterval(f),f=null)}var d,u=n("DOMWrapper"),p=n("sdk.RPC"),f=null;p.stub("setSize");var h={setSize:l,setAutoGrow:c};o.exports=h}),l("sdk.Canvas.Navigation",["sdk.RPC"],function(e,t,n,r,i){function o(e){s.local.navigate=function(t){e({path:t})},s.remote.setNavigationEnabled(!0)}var s=t("sdk.RPC");s.stub("setNavigationEnabled");var a={setUrlHandler:o};i.exports=a}),l("sdk.Canvas.Tti",["sdk.RPC","sdk.Runtime"],function(e,t,n,r,i){function o(e,t){var n={appId:u.getClientID(),time:c("Date","now",!1),name:t},r=[n];e&&r.push(function(t){e(t.result)}),d.remote.logTtiMessage.apply(null,r)}function s(){o(null,"StartIframeAppTtiTimer")}function a(e){o(e,"StopIframeAppTtiTimer")}function l(e){o(e,"RecordIframeAppTti")}var d=t("sdk.RPC"),u=t("sdk.Runtime");d.stub("logTtiMessage");var p={setDoneLoading:l,startTimer:s,stopTimer:a};i.exports=p}),l("legacy:fb.canvas",["Assert","sdk.Canvas.Environment","sdk.Event","FB","sdk.Canvas.Plugin","sdk.Canvas.IframeHandling","Log","sdk.Canvas.Navigation","sdk.Runtime","sdk.Canvas.Tti"],function(e,t){var n=t("Assert"),r=t("sdk.Canvas.Environment"),i=t("sdk.Event"),o=t("FB"),s=t("sdk.Canvas.Plugin"),a=t("sdk.Canvas.IframeHandling"),l=t("Log"),c=t("sdk.Canvas.Navigation"),d=t("sdk.Runtime"),u=t("sdk.Canvas.Tti");o.provide("Canvas",{setSize:function(e){return n.maybeObject(e,"Invalid argument"),a.setSize.apply(null,arguments)},setAutoGrow:function(){return a.setAutoGrow.apply(null,arguments)},getPageInfo:function(e){return n.isFunction(e,"Invalid argument"),r.getPageInfo.apply(null,arguments)},scrollTo:function(e,t){return n.maybeNumber(e,"Invalid argument"),n.maybeNumber(t,"Invalid argument"),r.scrollTo.apply(null,arguments)},setDoneLoading:function(e){return n.maybeFunction(e,"Invalid argument"),u.setDoneLoading.apply(null,arguments)},startTimer:function(){return u.startTimer.apply(null,arguments)},stopTimer:function(e){return n.maybeFunction(e,"Invalid argument"),u.stopTimer.apply(null,arguments)},getHash:function(e){return n.isFunction(e,"Invalid argument"),c.getHash.apply(null,arguments)},setHash:function(e){return n.isString(e,"Invalid argument"),c.setHash.apply(null,arguments)},setUrlHandler:function(e){return n.isFunction(e,"Invalid argument"),c.setUrlHandler.apply(null,arguments)}}),o.provide("CanvasInsights",{setDoneLoading:function(e){return l.warn("Deprecated: use FB.Canvas.setDoneLoading"),n.maybeFunction(e,"Invalid argument"),u.setDoneLoading.apply(null,arguments)}}),i.subscribe("init:post",function(e){d.isEnvironment(d.ENVIRONMENTS.CANVAS)&&(n.isTrue(!e.hideFlashCallback||!e.hidePluginCallback,"cannot specify deprecated hideFlashCallback and new hidePluginCallback"),s._setHidePluginCallback(e.hidePluginCallback||e.hideFlashCallback))})},3),l("sdk.Canvas.Prefetcher",["sdk.api","createArrayFrom","sdk.Runtime","CanvasPrefetcherConfig"],function(e,t,n,r,s){function a(){var e={object:"data",link:"href",script:"src"};v==m.AUTOMATIC&&c(c("Object","keys",!1,e),"forEach",!0,function(t){var n=e[t];c(f(i.getElementsByTagName(t)),"forEach",!0,function(e){e[n]&&y.push(e[n])})}),0!==y.length&&(p(g.getClientID()+"/staticresources","post",{urls:c("JSON","stringify",!1,y),is_https:"https:"===location.protocol}),y=[])}function l(){g.isEnvironment(g.ENVIRONMENTS.CANVAS)&&g.getClientID()&&_&&(Math.random()>1/_||"*"==b||~c(b,"indexOf",!0,g.getClientID())||o(a,3e4))}function d(e){v=e}function u(e){y.push(e)}var p=t("sdk.api"),f=t("createArrayFrom"),h=n("CanvasPrefetcherConfig"),g=t("sdk.Runtime"),m={AUTOMATIC:0,MANUAL:1},_=h.sampleRate,b=h.blacklist,v=m.AUTOMATIC,y=[],k={COLLECT_AUTOMATIC:m.AUTOMATIC,COLLECT_MANUAL:m.MANUAL,addStaticResource:u,setCollectionMode:d,_maybeSample:l};s.exports=k}),l("legacy:fb.canvas.prefetcher",["FB","sdk.Canvas.Prefetcher","sdk.Event","sdk.Runtime"],function(e,t){var n=t("FB"),r=t("sdk.Canvas.Prefetcher"),i=t("sdk.Event"),o=t("sdk.Runtime");n.provide("Canvas.Prefetcher",r),i.subscribe("init:post",function(){o.isEnvironment(o.ENVIRONMENTS.CANVAS)&&r._maybeSample()})},3),l("legacy:fb.compat.ui",["copyProperties","FB","Log","sdk.ui","sdk.UIServer"],function(e,t){var n=t("copyProperties"),r=t("FB"),i=t("Log"),o=t("sdk.ui"),s=t("sdk.UIServer");r.provide("",{share:function(e){i.error("share() has been deprecated. Please use FB.ui() instead."),o({display:"popup",method:"stream.share",u:e})},publish:function(e,t){i.error("publish() has been deprecated. Please use FB.ui() instead."),e=e||{},o(n({display:"popup",method:"stream.publish",preview:1},e||{}),t)},addFriend:function(e,t){i.error("addFriend() has been deprecated. Please use FB.ui() instead."),o({display:"popup",id:e,method:"friend.add"},t)}}),s.Methods["auth.login"]=s.Methods["permissions.request"]},3),l("mergeArrays",[],function(e,t,n,r,i){function o(e,t){for(var n=0;n<t.length;n++)c(e,"indexOf",!0,t[n])<0&&e.push(t[n]);return e}i.exports=o}),l("format",[],function(e,t,n,r,i){function o(e,t){return t=Array.prototype.slice.call(arguments,1),e.replace(/\{(\d+)\}/g,function(e,n){var r=t[Number(n)];return null===r||void 0===r?"":r.toString()})}i.exports=o}),l("safeEval",[],function(t,n,r,i,o){function s(t,n){return null!==t&&"undefined"!=typeof t?"string"!=typeof t?t:/^\w+$/.test(t)&&"function"==typeof e[t]?e[t].apply(null,n||[]):Function('return eval("'+t.replace(/"/g,'\\"')+'");').apply(null,n||[]):void 0}o.exports=s}),l("sdk.Waitable",["sdk.Model"],function(e,t,n,r,i){var o=t("sdk.Model"),s=o.extend({constructor:function(){this.parent({Value:void 0})},error:function(e){this.inform("error",e)},wait:function(e,t){t&&this.subscribe("error",t),this.monitor("Value.change",c(function(){var t=this.getValue();return void 0!==t?(this.value=t,e(t),!0):void 0},"bind",!0,this))}});i.exports=s}),l("sdk.Query",["format","safeEval","Type","sdk.Waitable"],function(e,t,n,r,i){function o(e){return c(e.split(","),"map",!0,function(e){return c(e,"trim",!0)})}function s(e){var t,n,r=/^\s*(\w+)\s*=\s*(.*)\s*$/i.exec(e),i="unknown";return r&&(n=r[2],/^(["'])(?:\\?.)*?\1$/.test(n)?(n=d(n),i="index"):/^\d+\.?\d*$/.test(n)&&(i="index")),t="index"==i?{type:"index",key:r[1],value:n}:{type:"unknown",value:e}}function a(e){return"string"==typeof e?c("JSON","stringify",!1,e):e}var l=t("format"),d=t("safeEval"),u=t("Type"),p=t("sdk.Waitable"),f=1,h=p.extend({constructor:function(){this.parent(),this.name="v_"+f++},hasDependency:function(e){return arguments.length&&(this._hasDependency=e),!!this._hasDependency},parse:function(e){var t=l.apply(null,e),n=/^select (.*?) from (\w+)\s+where (.*)$/i.exec(t);this.fields=o(n[1]),this.table=n[2],this.where=s(n[3]);for(var r=1;r<e.length;r++)u.instanceOf(h,e[r])&&e[r].hasDependency(!0);return this},toFql:function(){var e="select "+this.fields.join(",")+" from "+this.table+" where ";switch(this.where.type){case"unknown":e+=this.where.value;break;case"index":e+=this.where.key+"="+a(this.where.value);break;case"in":e+=1==this.where.value.length?this.where.key+"="+a(this.where.value[0]):this.where.key+" in ("+c(this.where.value,"map",!0,a).join(",")+")"}return e},toString:function(){return"#"+this.name}});i.exports=h}),l("sdk.Data",["sdk.api","sdk.ErrorHandling","mergeArrays","sdk.Query","safeEval","sdk.Waitable"],function(e,t,n,r,i){var s=t("sdk.api"),a=t("sdk.ErrorHandling"),l=t("mergeArrays"),d=t("sdk.Query"),u=t("safeEval"),p=t("sdk.Waitable"),f={query:function(){var e=(new d).parse(Array.prototype.slice.call(arguments));return f.queue.push(e),f._waitToProcess(),e},waitOn:function(e,t){var n=new p,r=e.length;if("string"==typeof t){var i=t;t=a.unguard(function(){return u(i)})}return c(e,"forEach",!0,function(i){i.monitor("Value.change",function(){var o=!1;if(void 0!==f._getValue(i)&&(i.value=i.getValue(),r--,o=!0),0===r){var s=t(c(e,"map",!0,f._getValue));n.setValue(void 0!==s?s:!0)}return o})}),n},process:function(e){f._process(e)},_getValue:function(e){return e instanceof p?e.getValue():e},_selectByIndex:function(e,t,n,r){var i=new d;return i.fields=e,i.table=t,i.where={type:"index",key:n,value:r},f.queue.push(i),f._waitToProcess(),i},_waitToProcess:function(){f.timer<0&&(f.timer=o(function(){f._process()},10))},_process:function(e){f.timer=-1;var t={},n=f.queue;if(n.length){f.queue=[];for(var r=0;r<n.length;r++){var i=n[r];"index"!=i.where.type||i.hasDependency()?t[i.name]=i:f._mergeIndexQuery(i,t)}var o={q:{}};for(var a in t)t.hasOwnProperty(a)&&(o.q[a]=t[a].toFql());e&&(o.access_token=e),s("/fql","GET",o,function(e){e.error?c(c("Object","keys",!1,t),"forEach",!0,function(n){t[n].error(new Error(e.error.message))}):c(e.data,"forEach",!0,function(e){t[e.name].setValue(e.fql_result_set)})})}},_mergeIndexQuery:function(e,t){var n=e.where.key,r=e.where.value,i="index_"+e.table+"_"+n,o=t[i];o||(o=t[i]=new d,o.fields=[n],o.table=e.table,o.where={type:"in",key:n,value:[]}),l(o.fields,e.fields),l(o.where.value,[r]),o.wait(function(t){e.setValue(c(t,"filter",!0,function(e){return e[n]==r}))})},timer:-1,queue:[]};i.exports=f}),l("legacy:fb.data",["FB","sdk.Data"],function(e,t){var n=t("FB"),r=t("sdk.Data");n.provide("Data",r)},3),l("legacy:fb.event",["FB","sdk.Event"],function(e,t){var n=t("FB"),r=t("sdk.Event");n.provide("Event",r),n.provide("EventProvider",r)},3),l("legacy:fb.frictionless",["FB","sdk.Frictionless"],function(e,t){var n=t("FB"),r=t("sdk.Frictionless");n.provide("Frictionless",r)},3),l("sdk.init",["sdk.Cookie","copyProperties","createArrayFrom","sdk.ErrorHandling","sdk.Event","Log","QueryString","sdk.Runtime"],function(t,n,r,s,a){function l(e){var t="number"==typeof e&&e>0||"string"==typeof e&&/^[0-9a-f]{21,}$|^[0-9]{1,21}$/.test(e);return t?e.toString():(m.warn("Invalid App Id: Must be a number or numeric string representing the application id."),null)}function d(e){b.getInitialized()&&m.warn("FB.init has already been called - this could indicate a problem"),/number|string/.test(typeof e)&&(m.warn("FB.init called with invalid parameters"),e={apiKey:e}),e=p({logging:!0,status:!0},e||{});var t=l(e.appId||e.apiKey);null!==t&&b.setClientID(t),"scope"in e&&b.setScope(e.scope),e.cookie&&(b.setUseCookie(!0),"string"==typeof e.cookie&&u.setDomain(e.cookie)),e.kidDirectedSite&&b.setKidDirectedSite(!0),b.setInitialized(!0),g.fire("init:post",e)}var u=n("sdk.Cookie"),p=n("copyProperties"),f=n("createArrayFrom"),h=n("sdk.ErrorHandling"),g=n("sdk.Event"),m=n("Log"),_=n("QueryString"),b=n("sdk.Runtime");o(function(){var t=/(connect\.facebook\.net|\.facebook\.com\/assets.php).*?#(.*)/;c(f(i.getElementsByTagName("script")),"forEach",!0,function(e){if(e.src){var n=t.exec(e.src);if(n){var r=_.decode(n[2]);for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];"0"==o&&(r[i]=0)}d(r)}}}),e.fbAsyncInit&&!e.fbAsyncInit.hasRun&&(e.fbAsyncInit.hasRun=!0,h.unguard(e.fbAsyncInit)())},0),a.exports=d}),l("legacy:fb.init",["FB","sdk.init"],function(e,t){var n=t("FB"),r=t("sdk.init");n.provide("",{init:r})},3),l("legacy:fb.json",["FB","ManagedError"],function(e,t){var n=t("FB"),r=t("ManagedError");n.provide("JSON",{stringify:function(e){try{return c("JSON","stringify",!1,e)}catch(t){throw new r(t.message,t)}},parse:function(e){try{return c("JSON","parse",!1,e)}catch(t){throw new r(t.message,t)}}})},3),l("legacy:fb.pay",["FB","copyProperties","sdk.Runtime","sdk.UIServer","sdk.XD"],function(t,n){n("FB");var r=n("copyProperties"),i=n("sdk.Runtime"),o=n("sdk.UIServer"),s=n("sdk.XD"),a={error_code:1383001,error_message:"An unknown error caused the dialog to be closed"},l=function(e){return function(t){e(t&&t.response?c("JSON","parse",!1,t.response):a)}};r(o.Methods,{"pay.prompt":{transform:function(t){var n=s.handler(l(t.cb),"parent.frames["+(e.name||"iframe_canvas")+"]");t.params.channel=n,s.inform("Pay.Prompt",t.params)}},pay:{size:{width:555,height:120},connectDisplay:"popup",transform:function(t){if(t.cb=l(t.cb),!i.isEnvironment(i.ENVIRONMENTS.CANVAS))return t.params.order_info=c("JSON","stringify",!1,t.params.order_info),t;var n=s.handler(t.cb,"parent.frames["+(e.name||"iframe_canvas")+"]");t.params.channel=n,t.params.uiserver=!0,s.inform("Pay.Prompt",t.params)}}})},3),l("legacy:fb.ua",["FB","UserAgent"],function(e,t){var n=t("FB"),r=t("UserAgent");n.provide("UA",{nativeApp:r.nativeApp})},3),l("legacy:fb.ui",["FB","sdk.ui"],function(e,t){var n=t("FB"),r=t("sdk.ui");n.provide("",{ui:r})},3),l("Miny",[],function(e,t,n,r,i){function o(e){for(var t=d.encode.length;e>t;t++){var n=t.toString(32).split("");n[n.length-1]=u[parseInt(n[n.length-1],32)],n=n.join(""),d.encode[t]=n,d.decode[n]=t}return d}function s(e){for(var t=e.match(/\w+|\W+/g),n={},r=0;r<t.length;r++)n[t[r]]=(n[t[r]]||0)+1;var i=c("Object","keys",!1,n);i.sort(function(e,t){return n[e]<n[t]?1:n[t]<n[e]?-1:0});var s=o(i.length).encode;for(r=0;r<i.length;r++)n[i[r]]=s[r];var a=[];for(r=0;r<t.length;r++)a[r]=n[t[r]];for(r=0;r<i.length;r++)i[r]=i[r].replace(/'~'/g,"\\~");return[l,i.length].concat(i).concat(a.join("")).join("~")}function a(e){var t=e.split("~");if(t.shift()!=l)throw new Error("Not a Miny stream");var n=parseInt(t.shift(),10),r=t.pop();r=r.match(/[0-9a-v]*[\-w-zA-Z_]/g);for(var i=t,s=o(n).decode,a=[],c=0;c<r.length;c++)a[c]=i[s[r[c]]];return a.join("")}var l="Miny1",d={encode:[],decode:{}},u="wxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_".split(""),p={encode:s,decode:a};i.exports=p}),l("runOnce",[],function(e,t,n,r,i){function o(e){var t,n;return function(){return t||(t=!0,n=e()),n}}i.exports=o}),l("XFBML",["Assert","copyProperties","createArrayFrom","sdk.DOM","sdk.feature","sdk.Impressions","Log","ObservableMixin","runOnce","UserAgent"],function(e,t,n,r,s){function a(e,t){return e[t]+""}function l(e){return e.scopeName?e.scopeName+":"+e.nodeName:""}function d(e){return E[a(e,"nodeName").toLowerCase()]||E[l(e).toLowerCase()]}function u(e){var t=c(c(a(e,"className"),"trim",!0).split(/\s+/),"filter",!0,function(e){return A.hasOwnProperty(e)});return 0===t.length?void 0:e.getAttribute("fb-xfbml-state")||!e.childNodes||0===e.childNodes.length||1===e.childNodes.length&&3===e.childNodes[0].nodeType||1===e.children.length&&"fb-xfbml-parse-ignore"===a(e.children[0],"className")?A[t[0]]:void 0}function p(e){var t={};return c(_(e.attributes),"forEach",!0,function(e){t[a(e,"name")]=a(e,"value")}),t}function f(e,t,n){var r=i.createElement("div");return b.addCss(e,t+"-"+n),c(_(e.childNodes),"forEach",!0,function(e){r.appendChild(e)}),c(_(e.attributes),"forEach",!0,function(e){r.setAttribute(e.name,e.value)}),e.parentNode.replaceChild(r,e),r}function h(e,t,n){g.isTrue(e&&e.nodeType&&1===e.nodeType&&!!e.getElementsByTagName,"Invalid DOM node passed to FB.XFBML.parse()"),g.isFunction(t,"Invalid callback passed to FB.XFBML.parse()");var r=++C;k.info("XFBML Parsing Start %s",r);var i=1,s=0,a=function(){i--,0===i&&(k.info("XFBML Parsing Finish %s, %s tags found",r,s),t(),S.inform("render",r,s)),g.isTrue(i>=0,"onrender() has been called too many times")};c(_(e.getElementsByTagName("*")),"forEach",!0,function(e){if((n||!e.getAttribute("fb-xfbml-state"))&&1===e.nodeType){var t=d(e)||u(e);if(t){I.ie()<9&&e.scopeName&&(e=f(e,t.xmlns,t.localName)),i++,s++;var r=new t.ctor(e,t.xmlns,t.localName,p(e));r.subscribe("render",x(function(){e.setAttribute("fb-xfbml-state","rendered"),a()}));var o=function(){"parsed"==e.getAttribute("fb-xfbml-state")?S.subscribe("render.queue",o):(e.setAttribute("fb-xfbml-state","parsed"),r.process())};o()}}}),S.inform("parse",r,s);var l=3e4;o(function(){i>0&&k.warn("%s tags failed to render in %s ms",i,l)},l),a()}var g=t("Assert"),m=t("copyProperties"),_=t("createArrayFrom"),b=t("sdk.DOM"),v=t("sdk.feature"),y=t("sdk.Impressions"),k=t("Log"),w=t("ObservableMixin"),x=t("runOnce"),I=t("UserAgent"),E={},A={},C=0,S=new w;if(S.subscribe("render",function(){var e=S.getSubscribers("render.queue");S.clearSubscribers("render.queue"),c(e,"forEach",!0,function(e){e()})}),m(S,{registerTag:function(e){var t=e.xmlns+":"+e.localName;g.isUndefined(E[t],t+" already registered"),E[t]=e,A[e.xmlns+"-"+e.localName]=e},parse:function(e,t){h(e||i.body,t||function(){},!0)},parseNew:function(){h(i.body,function(){},!1)}}),v("log_tag_count")){var R=function(e,t){S.unsubscribe("parse",R),o(c(y.log,"bind",!0,null,102,{tag_count:t}),5e3)};S.subscribe("parse",R)}s.exports=S}),l("PluginPipe",["sdk.Content","copyProperties","sdk.feature","guid","insertIframe","Miny","ObservableMixin","sdk.Runtime","UrlMap","UserAgent","XFBML","PluginPipeConfig"],function(e,t,n,r,o){function s(){return!(!p("plugin_pipe")||void 0===b.getSecure()||!y.chrome()&&!y.firefox()||!_.enabledApps[b.getClientID()])}function a(){function e(){n--,0===n&&l(t)}var t=I;if(I=[],t.length<=x)return c(t,"forEach",!0,function(e){h(e.config)}),void 0;var n=t.length+1;c(t,"forEach",!0,function(t){var n={};for(var r in t.config)n[r]=t.config[r];n.url=v.resolve("www",b.getSecure())+"/plugins/plugin_pipe_shell.php",n.onload=e,h(n)}),e()}function l(e){var t=i.createElement("span");d.appendHidden(t);var n={};c(e,"forEach",!0,function(e){n[e.config.name]={plugin:e.tag,params:e.params}});var r=c("JSON","stringify",!1,n),o=g.encode(r);c(e,"forEach",!0,function(e){var t=i.getElementsByName(e.config.name)[0];t.onload=e.config.onload});var s=v.resolve("www",b.getSecure())+"/plugins/pipe.php",a=f();h({url:"about:blank",root:t,name:a,className:"fb_hidden fb_invisible",onload:function(){d.submitToTarget({url:s,target:a,params:{plugins:o.length<r.length?o:r}})}})}var d=t("sdk.Content"),u=t("copyProperties"),p=t("sdk.feature"),f=t("guid"),h=t("insertIframe"),g=t("Miny"),m=t("ObservableMixin"),_=n("PluginPipeConfig"),b=t("sdk.Runtime"),v=t("UrlMap"),y=t("UserAgent"),k=t("XFBML"),w=new m,x=_.threshold,I=[];k.subscribe("parse",a),u(w,{add:function(e){var t=s();return t&&I.push({config:e._config,tag:e._tag,params:e._params}),t}}),o.exports=w}),l("IframePlugin",["sdk.Auth","sdk.createIframe","copyProperties","sdk.DOM","sdk.Event","guid","Log","ObservableMixin","PluginPipe","QueryString","resolveURI","sdk.Runtime","Type","UrlMap","UserAgent","sdk.XD"],function(t,n,r,s,a){function l(e,t,n){(t||0===t)&&(e.style.width=t+"px"),(n||0===n)&&(e.style.height=n+"px")}function d(e){return function(t){var n={width:t.width,height:t.height,pluginID:e};b.fire("xfbml.resize",n)}}function u(e,t){var n=e[t]||e[t.replace(/_/g,"-")]||e[t.replace(/_/g,"")]||e["data-"+t]||e["data-"+t.replace(/_/g,"-")]||e["data-"+t.replace(/_/g,"")]||void 0;return n}function p(e,t,n,r){c(c("Object","keys",!1,e),"forEach",!0,function(i){"text"!=e[i]||n[i]||(n[i]=t.textContent||t.innerText||"",t.setAttribute(i,n[i])),r[i]=T[e[i]](u(n,i))})}function f(e){return e||"0"===e||0===e?parseInt(e,10):void 0}var h=n("sdk.Auth"),g=n("sdk.createIframe"),m=n("copyProperties"),_=n("sdk.DOM"),b=n("sdk.Event"),v=n("guid"),y=n("Log"),k=n("ObservableMixin"),w=n("PluginPipe"),x=n("QueryString"),I=n("resolveURI"),E=n("sdk.Runtime"),A=n("Type"),C=n("UrlMap"),S=n("UserAgent"),R=n("sdk.XD"),N={skin:"string",font:"string",width:"px",height:"px",ref:"string",color_scheme:"string"},T={string:function(e){return e
},bool:function(e){return e?/^(?:true|1|yes|on)$/i.test(e):void 0},url:function(e){return I(e)},url_maybe:function(e){return e?I(e):e},hostname:function(t){return t||e.location.hostname},px:function(e){return/^(\d+)(?:px)?$/.test(e)?parseInt(RegExp.$1,10):void 0},text:function(e){return e}},O=A.extend({constructor:function(t,n,r,o){this.parent(),r=r.replace(/-/g,"_");var s=u(o,"plugin_id");this.subscribe("xd.resize",d(s)),this.subscribe("xd.resize.flow",d(s)),this.subscribe("xd.resize.flow",c(function(e){this._config.root.style.verticalAlign="bottom",l(this._config.root,f(e.width),f(e.height)),this.updateLift(),clearTimeout(this._timeoutID)},"bind",!0,this)),this.subscribe("xd.resize",c(function(e){this._config.root.style.verticalAlign="bottom",l(this._config.root,f(e.width),f(e.height)),l(this._iframe,f(e.width),f(e.height)),this.updateLift(),clearTimeout(this._timeoutID)},"bind",!0,this)),this.subscribe("xd.resize.iframe",c(function(e){l(this._iframe,f(e.width),f(e.height)),this.updateLift(),clearTimeout(this._timeoutID)},"bind",!0,this)),this.subscribe("xd.sdk_event",function(e){var n=c("JSON","parse",!1,e.data);n.pluginID=s,b.fire(e.event,n,t)});var a=E.getSecure()||"https:"==e.location.protocol,g=C.resolve("www",a)+"/plugins/"+r+".php?",m={};p(this.getParams(),t,o,m),p(N,t,o,m),m.app_id=E.getClientID(),m.locale=E.getLocale(),m.sdk="joey",m.kid_directed_site=E.getKidDirectedSite();var y=c(function(e){this.inform("xd."+e.type,e)},"bind",!0,this);m.channel=R.handler(y,"parent.parent",!0),_.addCss(t,"fb_iframe_widget");var k=v();this.subscribe("xd.verify",function(e){R.sendToFacebook(k,{method:"xd/verify",params:c("JSON","stringify",!1,e.token)})}),this.subscribe("xd.refreshLoginStatus",c(h.getLoginStatus,"bind",!0,h,c(this.inform,"bind",!0,this,"login.status"),!0));var w=i.createElement("span");w.style.verticalAlign="top",w.style.width="0px",w.style.height="0px",this._element=t,this._ns=n,this._tag=r,this._params=m,this._config={root:w,url:g+x.encode(m),name:k,width:S.mobile()?void 0:m.width||1e3,height:m.height||1e3,style:{border:"none",visibility:"hidden"},title:this._ns+":"+this._tag+" Facebook Social Plugin",onload:c(function(){this.inform("render")},"bind",!0,this)}},process:function(){var e=m({},this._params);delete e.channel;var t=x.encode(e);if(this._element.getAttribute("fb-iframe-plugin-query")==t)return y.info("Skipping render: %s:%s %s",this._ns,this._tag,t),this.inform("render"),void 0;for(this._element.setAttribute("fb-iframe-plugin-query",t),this.subscribe("render",function(){this._iframe.style.visibility="visible"});this._element.firstChild;)this._element.removeChild(this._element.firstChild);this._element.appendChild(this._config.root);var n=S.mobile()?120:45;this._timeoutID=o(c(function(){this._iframe&&l(this._iframe,0,0),y.warn("%s:%s failed to resize in %ss",this._ns,this._tag,n)},"bind",!0,this),1e3*n),w.add(this)||(this._iframe=g(this._config)),S.mobile()&&(_.addCss(this._element,"fb_iframe_widget_fluid"),this._element.style.display="block",this._element.style.width="100%",this._element.style.height="auto",this._config.root.style.width="100%",this._config.root.style.height="auto",this._iframe.style.width="100%",this._iframe.style.height="auto",this._iframe.style.position="static")},updateLift:function(){var e=this._iframe.style.width===this._config.root.style.width&&this._iframe.style.height===this._config.root.style.height;_[e?"removeCss":"addCss"](this._iframe,"fb_iframe_widget_lift")}},k);O.getVal=u,O.withParams=function(e){return O.extend({getParams:function(){return e}})},a.exports=O}),l("PluginTags",[],function(e,t,n,r,i){var o={activity:{filter:"string",action:"string",max_age:"string",linktarget:"string",header:"bool",recommendations:"bool",site:"hostname"},composer:{action_type:"string",action_properties:"string"},create_event_button:{},degrees:{href:"url"},facepile:{href:"string",action:"string",size:"string",max_rows:"string",show_count:"bool"},follow:{href:"url",layout:"string",show_faces:"bool"},like_box:{href:"string",show_faces:"bool",header:"bool",stream:"bool",force_wall:"bool",show_border:"bool",id:"string",connections:"string",profile_id:"string",name:"string"},open_graph:{href:"url",layout:"string",show_faces:"bool",action_type:"string",action_properties:"string"},open_graph_preview:{action_type:"string",action_properties:"string"},page_events:{href:"url"},post:{href:"url",show_border:"bool"},privacy_selector:{},profile_pic:{uid:"string",linked:"bool",href:"string",size:"string",facebook_logo:"bool"},recommendations:{filter:"string",action:"string",max_age:"string",linktarget:"string",header:"bool",site:"hostname"},share_button:{href:"url",type:"string"},shared_activity:{header:"bool"},send:{href:"url"},send_to_mobile:{max_rows:"string",show_faces:"bool",size:"string"},story:{href:"url",show_border:"bool"},topic:{topic_name:"string",topic_id:"string"},want:{href:"url",layout:"string",show_faces:"bool"}},s={subscribe:"follow",fan:"like_box",likebox:"like_box",friendpile:"facepile"};c(c("Object","keys",!1,s),"forEach",!0,function(e){o[e]=o[s[e]]}),i.exports=o}),l("sdk.Arbiter",[],function(e,t,n,r,i){var o={BEHAVIOR_EVENT:"e",BEHAVIOR_PERSISTENT:"p",BEHAVIOR_STATE:"s"};i.exports=o}),l("sdk.XFBML.Element",["sdk.DOM","Type","ObservableMixin"],function(e,t,n,r,o){var s=t("sdk.DOM"),a=t("Type"),l=t("ObservableMixin"),d=a.extend({constructor:function(e){this.parent(),this.dom=e},fire:function(){this.inform.apply(this,arguments)},getAttribute:function(e,t,n){var r=s.getAttr(this.dom,e);return r?n?n(r):r:t},_getBoolAttribute:function(e,t){var n=s.getBoolAttr(this.dom,e);return null===n?t:n},_getPxAttribute:function(e,t){return this.getAttribute(e,t,function(e){var n=parseInt(e.replace("px",""),10);return isNaN(n)?t:n})},_getAttributeFromList:function(e,t,n){return this.getAttribute(e,t,function(e){return e=e.toLowerCase(),c(n,"indexOf",!0,e)>-1?e:t})},isValid:function(){for(var e=this.dom;e;e=e.parentNode)if(e==i.body)return!0},clear:function(){s.html(this.dom,"")}},l);o.exports=d}),l("sdk.XFBML.IframeWidget",["sdk.Arbiter","sdk.Auth","sdk.Content","copyProperties","sdk.DOM","sdk.Event","sdk.XFBML.Element","guid","insertIframe","QueryString","sdk.Runtime","sdk.ui","UrlMap","sdk.XD"],function(e,t,n,r,o){var s=t("sdk.Arbiter"),a=t("sdk.Auth"),l=t("sdk.Content"),d=t("copyProperties"),u=t("sdk.DOM"),p=t("sdk.Event"),f=t("sdk.XFBML.Element"),h=t("guid"),g=t("insertIframe"),m=t("QueryString"),_=t("sdk.Runtime"),b=t("sdk.ui"),v=t("UrlMap"),y=t("sdk.XD"),k=f.extend({_iframeName:null,_showLoader:!0,_refreshOnAuthChange:!1,_allowReProcess:!1,_fetchPreCachedLoader:!1,_visibleAfter:"load",_widgetPipeEnabled:!1,_borderReset:!1,_repositioned:!1,getUrlBits:function(){throw new Error("Inheriting class needs to implement getUrlBits().")},setupAndValidate:function(){return!0},oneTimeSetup:function(){},getSize:function(){},getIframeName:function(){return this._iframeName},getIframeTitle:function(){return"Facebook Social Plugin"},getChannelUrl:function(){if(!this._channelUrl){var e=this;this._channelUrl=y.handler(function(t){e.fire("xd."+t.type,t)},"parent.parent",!0)}return this._channelUrl},getIframeNode:function(){return this.dom.getElementsByTagName("iframe")[0]},arbiterInform:function(e,t,n){y.sendToFacebook(this.getIframeName(),{method:e,params:c("JSON","stringify",!1,t||{}),behavior:n||s.BEHAVIOR_PERSISTENT})},_arbiterInform:function(e,t,n){var r='parent.frames["'+this.getIframeNode().name+'"]';y.inform(e,t,r,n)},getDefaultWebDomain:function(){return v.resolve("www")},process:function(e){if(this._done){if(!this._allowReProcess&&!e)return;this.clear()}else this._oneTimeSetup();if(this._done=!0,this._iframeName=this.getIframeName()||this._iframeName||h(),!this.setupAndValidate())return this.fire("render"),void 0;this._showLoader&&this._addLoader(),u.addCss(this.dom,"fb_iframe_widget"),"immediate"!=this._visibleAfter?u.addCss(this.dom,"fb_hide_iframes"):this.subscribe("iframe.onload",c(this.fire,"bind",!0,this,"render"));var t=this.getSize()||{},n=this.getFullyQualifiedURL();"100%"==t.width&&u.addCss(this.dom,"fb_iframe_widget_fluid"),this.clear(),g({url:n,root:this.dom.appendChild(i.createElement("span")),name:this._iframeName,title:this.getIframeTitle(),className:_.getRtl()?"fb_rtl":"fb_ltr",height:t.height,width:t.width,onload:c(this.fire,"bind",!0,this,"iframe.onload")}),this._resizeFlow(t),this.loaded=!1,this.subscribe("iframe.onload",c(function(){this.loaded=!0},"bind",!0,this))},generateWidgetPipeIframeName:function(){return w++,"fb_iframe_"+w},getFullyQualifiedURL:function(){var e=this._getURL();if(e+="?"+m.encode(this._getQS()),e.length>2e3){e="about:blank";var t=c(function(){this._postRequest(),this.unsubscribe("iframe.onload",t)},"bind",!0,this);this.subscribe("iframe.onload",t)}return e},_getWidgetPipeShell:function(){return v.resolve("www")+"/common/widget_pipe_shell.php"},_oneTimeSetup:function(){this.subscribe("xd.resize",c(this._handleResizeMsg,"bind",!0,this)),this.subscribe("xd.resize",c(this._bubbleResizeEvent,"bind",!0,this)),this.subscribe("xd.resize.iframe",c(this._resizeIframe,"bind",!0,this)),this.subscribe("xd.resize.flow",c(this._resizeFlow,"bind",!0,this)),this.subscribe("xd.resize.flow",c(this._bubbleResizeEvent,"bind",!0,this)),this.subscribe("xd.refreshLoginStatus",function(){a.getLoginStatus(function(){},!0)}),this.subscribe("xd.logout",function(){b({method:"auth.logout",display:"hidden"},function(){})}),this._refreshOnAuthChange&&this._setupAuthRefresh(),"load"==this._visibleAfter&&this.subscribe("iframe.onload",c(this._makeVisible,"bind",!0,this)),this.subscribe("xd.verify",c(function(e){this.arbiterInform("xd/verify",e.token)},"bind",!0,this)),this.oneTimeSetup()},_makeVisible:function(){this._removeLoader(),u.removeCss(this.dom,"fb_hide_iframes"),this.fire("render")},_setupAuthRefresh:function(){a.getLoginStatus(c(function(e){var t=e.status;p.subscribe("auth.statusChange",c(function(e){this.isValid()&&(("unknown"==t||"unknown"==e.status)&&this.process(!0),t=e.status)},"bind",!0,this))},"bind",!0,this))},_handleResizeMsg:function(e){this.isValid()&&(this._resizeIframe(e),this._resizeFlow(e),this._borderReset||(this.getIframeNode().style.border="none",this._borderReset=!0),this._makeVisible())},_bubbleResizeEvent:function(e){var t={height:e.height,width:e.width,pluginID:this.getAttribute("plugin-id")};p.fire("xfbml.resize",t)},_resizeIframe:function(e){var t=this.getIframeNode();"true"===e.reposition&&this._repositionIframe(e),e.height&&(t.style.height=e.height+"px"),e.width&&(t.style.width=e.width+"px"),this._updateIframeZIndex()},_resizeFlow:function(e){var t=this.dom.getElementsByTagName("span")[0];e.height&&(t.style.height=e.height+"px"),e.width&&(t.style.width=e.width+"px"),this._updateIframeZIndex()},_updateIframeZIndex:function(){var e=this.dom.getElementsByTagName("span")[0],t=this.getIframeNode(),n=t.style.height===e.style.height&&t.style.width===e.style.width,r=n?"removeCss":"addCss";u[r](t,"fb_iframe_widget_lift")},_repositionIframe:function(e){var t=this.getIframeNode(),n=parseInt(u.getStyle(t,"width"),10),r=u.getPosition(t).x,i=u.getViewportInfo().width,o=parseInt(e.width,10);r+o>i&&r>o?(t.style.left=n-o+"px",this.arbiterInform("xd/reposition",{type:"horizontal"}),this._repositioned=!0):this._repositioned&&(t.style.left="0px",this.arbiterInform("xd/reposition",{type:"restore"}),this._repositioned=!1)},_addLoader:function(){this._loaderDiv||(u.addCss(this.dom,"fb_iframe_widget_loader"),this._loaderDiv=i.createElement("div"),this._loaderDiv.className="FB_Loader",this.dom.appendChild(this._loaderDiv))},_removeLoader:function(){this._loaderDiv&&(u.removeCss(this.dom,"fb_iframe_widget_loader"),this._loaderDiv.parentNode&&this._loaderDiv.parentNode.removeChild(this._loaderDiv),this._loaderDiv=null)},_getQS:function(){return d({api_key:_.getClientID(),locale:_.getLocale(),sdk:"joey",kid_directed_site:_.getKidDirectedSite(),ref:this.getAttribute("ref")},this.getUrlBits().params)},_getURL:function(){var e=this.getDefaultWebDomain(),t="";return e+"/plugins/"+t+this.getUrlBits().name+".php"},_postRequest:function(){l.submitToTarget({url:this._getURL(),target:this.getIframeNode().name,params:this._getQS()})}}),w=0;o.exports=k}),l("sdk.XFBML.Comments",["sdk.Event","sdk.XFBML.IframeWidget","QueryString","sdk.Runtime","UrlMap","UserAgent","SDKConfig"],function(t,n,r,o,s){var a=n("sdk.Event"),l=n("sdk.XFBML.IframeWidget"),d=n("QueryString"),u=n("sdk.Runtime"),p=r("SDKConfig"),f=n("UrlMap"),h=n("UserAgent"),g=l.extend({_visibleAfter:"immediate",_refreshOnAuthChange:!0,setupAndValidate:function(){var t={channel_url:this.getChannelUrl(),colorscheme:this.getAttribute("colorscheme"),skin:this.getAttribute("skin"),numposts:this.getAttribute("num-posts",10),width:this._getPxAttribute("width",550),href:this.getAttribute("href"),permalink:this.getAttribute("permalink"),publish_feed:this.getAttribute("publish_feed"),order_by:this.getAttribute("order_by"),mobile:this._getBoolAttribute("mobile")};if(p.initSitevars.enableMobileComments&&h.mobile()&&t.mobile!==!1&&(t.mobile=!0,delete t.width),t.skin||(t.skin=t.colorscheme),t.href){var n=this.getAttribute("fb_comment_id");n||(n=d.decode(i.URL.substring(c(i.URL,"indexOf",!0,"?")+1)).fb_comment_id,n&&c(n,"indexOf",!0,"#")>0&&(n=n.substring(0,c(n,"indexOf",!0,"#")))),n&&(t.fb_comment_id=n,this.subscribe("render",c(function(){e.location.hash||(e.location.hash=this.getIframeNode().id)},"bind",!0,this)))}else{if(t.migrated=this.getAttribute("migrated"),t.xid=this.getAttribute("xid"),t.title=this.getAttribute("title",i.title),t.url=this.getAttribute("url",i.URL),t.quiet=this.getAttribute("quiet"),t.reverse=this.getAttribute("reverse"),t.simple=this.getAttribute("simple"),t.css=this.getAttribute("css"),t.notify=this.getAttribute("notify"),!t.xid){var r=c(i.URL,"indexOf",!0,"#");t.xid=r>0?encodeURIComponent(i.URL.substring(0,r)):encodeURIComponent(i.URL)}t.migrated&&(t.href=f.resolve("www")+"/plugins/comments_v1.php?app_id="+u.getClientID()+"&xid="+encodeURIComponent(t.xid)+"&url="+encodeURIComponent(t.url))}return this._attr=t,!0},oneTimeSetup:function(){this.subscribe("xd.addComment",c(this._handleCommentMsg,"bind",!0,this)),this.subscribe("xd.commentCreated",c(this._handleCommentCreatedMsg,"bind",!0,this)),this.subscribe("xd.commentRemoved",c(this._handleCommentRemovedMsg,"bind",!0,this))},getSize:function(){return this._attr.mobile?{width:"100%",height:160}:{width:this._attr.width,height:160}},getUrlBits:function(){return{name:"comments",params:this._attr}},getDefaultWebDomain:function(){return f.resolve(this._attr.mobile?"m":"www",!0)},_handleCommentMsg:function(e){this.isValid()&&a.fire("comments.add",{post:e.post,user:e.user,widget:this})},_handleCommentCreatedMsg:function(e){if(this.isValid()){var t={href:e.href,commentID:e.commentID,parentCommentID:e.parentCommentID};a.fire("comment.create",t)}},_handleCommentRemovedMsg:function(e){if(this.isValid()){var t={href:e.href,commentID:e.commentID};a.fire("comment.remove",t)}}});s.exports=g}),l("sdk.XFBML.CommentsCount",["sdk.Data","sdk.DOM","sdk.XFBML.Element","sprintf"],function(t,n,r,i,o){var s=n("sdk.Data"),a=n("sdk.DOM"),l=n("sdk.XFBML.Element"),d=n("sprintf"),u=l.extend({process:function(){a.addCss(this.dom,"fb_comments_count_zero");var t=this.getAttribute("href",e.location.href);s._selectByIndex(["commentsbox_count"],"link_stat","url",t).wait(c(function(e){var t=e[0].commentsbox_count;a.html(this.dom,d('<span class="fb_comments_count">%s</span>',t)),t>0&&a.removeCss(this.dom,"fb_comments_count_zero"),this.fire("render")},"bind",!0,this))}});o.exports=u}),l("sdk.Anim",["sdk.DOM"],function(e,t,n,r,i){var o=t("sdk.DOM"),a={ate:function(e,t,n,r){n=!isNaN(parseFloat(n))&&n>=0?n:750;var i=40,a={},l={},d=null,u=s(c(function(){d||(d=c("Date","now",!1));var i=1;0!=n&&(i=Math.min((c("Date","now",!1)-d)/n,1));for(var s in t)if(t.hasOwnProperty(s)){var p=t[s];if(!a[s]){var f=o.getStyle(e,s);if(f===!1)return;a[s]=this._parseCSS(f+"")}l[s]||(l[s]=this._parseCSS(p.toString()));var h="";c(a[s],"forEach",!0,function(e,t){isNaN(l[s][t].numPart)&&"?"==l[s][t].textPart?h=e.numPart+e.textPart:isNaN(e.numPart)?h=e.textPart:h+=e.numPart+Math.ceil((l[s][t].numPart-e.numPart)*Math.sin(Math.PI/2*i))+l[s][t].textPart+" "}),o.setStyle(e,s,h)}1==i&&(clearInterval(u),r&&r(e))},"bind",!0,this),i)},_parseCSS:function(e){var t=[];return c(e.split(" "),"forEach",!0,function(e){var n=parseInt(e,10);t.push({numPart:n,textPart:e.replace(n,"")})}),t}};i.exports=a}),l("escapeHTML",[],function(e,t,n,r,i){function o(e){return e.replace(s,function(e){return a[e]})}var s=/[&<>"'\/]/g,a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;","/":"&#x2F;"};i.exports=o}),l("sdk.Helper",["sdk.ErrorHandling","sdk.Event","safeEval","UrlMap"],function(t,n,r,i,o){var s=n("sdk.ErrorHandling"),a=n("sdk.Event"),l=n("safeEval"),c=n("UrlMap"),d={isUser:function(e){return 22e8>e||e>=1e14&&0x5b0a58f100ef>=e||e>=89e12&&89999999999999>=e},upperCaseFirstChar:function(e){return e.length>0?e.substr(0,1).toUpperCase()+e.substr(1):e},getProfileLink:function(e,t,n){return n=n||(e?c.resolve("www")+"/profile.php?id="+e.uid:null),n&&(t='<a class="fb_link" href="'+n+'">'+t+"</a>"),t},invokeHandler:function(e,t,n){e&&("string"==typeof e?s.unguard(l)(e,n):e.apply&&s.unguard(e).apply(t,n||[]))},fireEvent:function(e,t){var n=t._attr.href;t.fire(e,n),a.fire(e,n,t)},executeFunctionByName:function(t){for(var n=Array.prototype.slice.call(arguments,1),r=t.split("."),i=r.pop(),o=e,s=0;s<r.length;s++)o=o[r[s]];return o[i].apply(this,n)}};o.exports=d}),l("sdk.XFBML.ConnectBar",["sdk.Anim","sdk.api","sdk.Auth","createArrayFrom","sdk.Data","sdk.DOM","sdk.XFBML.Element","escapeHTML","sdk.Event","format","sdk.Helper","sdk.Insights","sdk.Intl","sdk.Runtime","UrlMap","UserAgent","ConnectBarConfig"],function(t,n,r,o,s){var a=n("sdk.Anim"),l=n("sdk.api"),d=n("sdk.Auth"),u=n("createArrayFrom"),p=r("ConnectBarConfig"),f=n("sdk.Data"),h=n("sdk.DOM"),g=n("sdk.XFBML.Element"),m=n("escapeHTML"),_=n("sdk.Event"),b=n("format"),v=n("sdk.Helper"),y=n("sdk.Insights"),k=n("sdk.Intl"),w=n("sdk.Runtime"),x=n("UrlMap"),I=n("UserAgent"),E=g.extend({_initialHeight:null,_initTopMargin:0,_picFieldName:"pic_square",_page:null,_displayed:!1,_notDisplayed:!1,_container:null,_animationSpeed:0,process:function(){d.getLoginStatus(c(function(){_.monitor("auth.statusChange",c(function(){return this.isValid()&&"connected"==w.getLoginStatus()?(this._uid=w.getUserID(),l({method:"Connect.shouldShowConnectBar"},c(function(e){2!=e?(this._animationSpeed=0==e?750:0,this._showBar()):this._noRender()},"bind",!0,this))):this._noRender(),!1},"bind",!0,this))},"bind",!0,this))},_showBar:function(){var e=f._selectByIndex(["first_name","profile_url",this._picFieldName],"user","uid",this._uid),t=f._selectByIndex(["display_name"],"application","api_key",w.getClientID());f.waitOn([e,t],c(function(e){e[0][0].site_name=e[1][0].display_name,this._displayed||(this._displayed=!0,this._notDisplayed=!1,this._renderConnectBar(e[0][0]),this.fire("render"),y.impression({lid:104,name:"widget_load"}),this.fire("connectbar.ondisplay"),_.fire("connectbar.ondisplay",this),v.invokeHandler(this.getAttribute("on-display"),this))},"bind",!0,this))},_noRender:function(){this._displayed&&(this._displayed=!1,this._closeConnectBar()),this._notDisplayed||(this._notDisplayed=!0,this.fire("render"),this.fire("connectbar.onnotdisplay"),_.fire("connectbar.onnotdisplay",this),v.invokeHandler(this.getAttribute("on-not-display"),this))},_renderConnectBar:function(t){var n=i.createElement("div"),r=i.createElement("div");n.className="fb_connect_bar",r.className="fb_reset fb_connect_bar_container",r.appendChild(n),i.body.appendChild(r),this._container=r,this._initialHeight=Math.round(parseFloat(h.getStyle(r,"height"))+parseFloat(h.getStyle(r,"borderBottomWidth"))),h.html(n,b('<div class="fb_buttons"><a href="#" class="fb_bar_close"><img src="{1}" alt="{2}" title="{2}"/></a></div><a href="{7}" class="fb_profile" target="_blank"><img src="{3}" alt="{4}" title="{4}"/></a>{5} <span><a href="{8}" class="fb_learn_more" target="_blank">{6}</a> &ndash; <a href="#" class="fb_no_thanks">{0}</a></span>',k.tx._("No Thanks"),x.resolve("fbcdn")+"/"+p.imgs.buttonUrl,k.tx._("Close"),t[this._picFieldName]||x.resolve("fbcdn")+"/"+p.imgs.missingProfileUrl,m(t.first_name),k.tx._("Hi {firstName}. <strong>{siteName}</strong> is using Facebook to personalize your experience.",{firstName:m(t.first_name),siteName:m(t.site_name)}),k.tx._("Learn More"),t.profile_url,x.resolve("www")+"/sitetour/connect.php")),c(u(n.getElementsByTagName("a")),"forEach",!0,function(e){e.onclick=c(this._clickHandler,"bind",!0,this)},this),this._page=i.body;var o=0;o=this._page.parentNode?Math.round((parseFloat(h.getStyle(this._page.parentNode,"height"))-parseFloat(h.getStyle(this._page,"height")))/2):parseInt(h.getStyle(this._page,"marginTop"),10),o=isNaN(o)?0:o,this._initTopMargin=o,e.XMLHttpRequest?(r.style.top=-1*this._initialHeight+"px",a.ate(r,{top:"0px"},this._animationSpeed)):r.className+=" fb_connect_bar_container_ie6";var s={marginTop:this._initTopMargin+this._initialHeight+"px"};I.ie()?s.backgroundPositionY=this._initialHeight+"px":s.backgroundPosition="? "+this._initialHeight+"px",a.ate(this._page,s,this._animationSpeed)},_clickHandler:function(t){t=t||e.event;for(var n=t.target||t.srcElement;"A"!=n.nodeName;)n=n.parentNode;switch(n.className){case"fb_bar_close":l({method:"Connect.connectBarMarkAcknowledged"}),y.impression({lid:104,name:"widget_user_closed"}),this._closeConnectBar();break;case"fb_learn_more":case"fb_profile":e.open(n.href);break;case"fb_no_thanks":this._closeConnectBar(),l({method:"Connect.connectBarMarkAcknowledged"}),y.impression({lid:104,name:"widget_user_no_thanks"}),l({method:"auth.revokeAuthorization",block:!0},c(function(){this.fire("connectbar.ondeauth"),_.fire("connectbar.ondeauth",this),v.invokeHandler(this.getAttribute("on-deauth"),this),this._getBoolAttribute("auto-refresh",!0)&&e.location.reload()},"bind",!0,this))}return!1},_closeConnectBar:function(){this._notDisplayed=!0;var e={marginTop:this._initTopMargin+"px"};I.ie()?e.backgroundPositionY="0px":e.backgroundPosition="? 0px";var t=0==this._animationSpeed?0:300;a.ate(this._page,e,t),a.ate(this._container,{top:-1*this._initialHeight+"px"},t,function(e){e.parentNode.removeChild(e)}),this.fire("connectbar.onclose"),_.fire("connectbar.onclose",this),v.invokeHandler(this.getAttribute("on-close"),this)}});s.exports=E}),l("sdk.XFBML.EdgeCommentWidget",["sdk.XFBML.IframeWidget","sdk.DOM"],function(e,t,n,r,i){var o=t("sdk.XFBML.IframeWidget"),s=t("sdk.DOM"),a=1e4,l=o.extend({constructor:function(e){this.parent(e.commentNode),this._iframeWidth=e.width+1,this._iframeHeight=e.height,this._attr={master_frame_name:e.masterFrameName,offsetX:e.relativeWidthOffset-e.paddingLeft},this.dom=e.commentNode,this.dom.style.top=e.relativeHeightOffset+"px",this.dom.style.left=e.relativeWidthOffset+"px",this.dom.style.zIndex=a++,s.addCss(this.dom,"fb_edge_comment_widget")},_visibleAfter:"load",_showLoader:!1,getSize:function(){return{width:this._iframeWidth,height:this._iframeHeight}},getUrlBits:function(){return{name:"comment_widget_shell",params:this._attr}}});i.exports=l}),l("sdk.XFBML.EdgeWidget",["sdk.Event","sdk.XFBML.IframeWidget","sdk.XFBML.EdgeCommentWidget","sdk.DOM","sdk.Helper","sdk.Runtime"],function(t,n,r,o,s){var a=n("sdk.Event"),l=n("sdk.XFBML.IframeWidget"),d=n("sdk.XFBML.EdgeCommentWidget"),u=n("sdk.DOM"),p=n("sdk.Helper"),f=n("sdk.Runtime"),h=l.extend({_visibleAfter:"immediate",_showLoader:!1,_rootPadding:null,setupAndValidate:function(){return u.addCss(this.dom,"fb_edge_widget_with_comment"),this._attr={channel_url:this.getChannelUrl(),debug:this._getBoolAttribute("debug"),href:this.getAttribute("href",e.location.href),is_permalink:this._getBoolAttribute("is-permalink"),node_type:this.getAttribute("node-type","link"),width:this._getWidgetWidth(),font:this.getAttribute("font"),layout:this._getLayout(),colorscheme:this.getAttribute("color-scheme","light"),action:this.getAttribute("action"),ref:this.getAttribute("ref"),show_faces:this._shouldShowFaces(),no_resize:this._getBoolAttribute("no_resize"),send:this._getBoolAttribute("send"),share:this._getBoolAttribute("share"),url_map:this.getAttribute("url_map"),extended_social_context:this._getBoolAttribute("extended_social_context",!1)},this._rootPadding={left:parseFloat(u.getStyle(this.dom,"paddingLeft")),top:parseFloat(u.getStyle(this.dom,"paddingTop"))},!0},oneTimeSetup:function(){this.subscribe("xd.sdk_event",c(function(e){a.fire(e.event,c("JSON","parse",!1,e.data),this.dom),"edge.create"==e.event?p.invokeHandler(this.getAttribute("on-create"),this,[this._attr.href]):"edge.remove"==e.event&&p.invokeHandler(this.getAttribute("on-remove"),this,[this._attr.href])},"bind",!0,this)),this.subscribe("xd.presentEdgeCommentDialog",c(this._handleEdgeCommentDialogPresentation,"bind",!0,this)),this.subscribe("xd.dismissEdgeCommentDialog",c(this._handleEdgeCommentDialogDismissal,"bind",!0,this)),this.subscribe("xd.hideEdgeCommentDialog",c(this._handleEdgeCommentDialogHide,"bind",!0,this)),this.subscribe("xd.showEdgeCommentDialog",c(this._handleEdgeCommentDialogShow,"bind",!0,this))},getSize:function(){return{width:this._getWidgetWidth(),height:this._getWidgetHeight()}},_getWidgetHeight:function(){var e=this._getLayout(),t=this._shouldShowFaces()?"show":"hide",n=this._getBoolAttribute("send")||this._getBoolAttribute("share"),r=65+(n?25:0),i={standard:{show:80,hide:35},box_count:{show:r,hide:r},button_count:{show:21,hide:21},simple:{show:20,hide:20}};return i[e][t]},_getWidgetWidth:function(){var e=this._getLayout(),t=this._getBoolAttribute("send")||this._getBoolAttribute("share"),n=this._shouldShowFaces()?"show":"hide",r="recommend"===this.getAttribute("action"),i=(r?265:225)+(t?60:0),o=(r?130:90)+(t?60:0),s="recommend"===this.getAttribute("action")?100:55,a="recommend"===this.getAttribute("action")?90:50,l={standard:{show:450,hide:450},box_count:{show:s,hide:s},button_count:{show:o,hide:o},simple:{show:a,hide:a}},c=l[e][n],d=this._getPxAttribute("width",c),u={standard:{min:i,max:900},box_count:{min:s,max:900},button_count:{min:o,max:900},simple:{min:49,max:900}};return d<u[e].min?d=u[e].min:d>u[e].max&&(d=u[e].max),d},_getLayout:function(){return this._getAttributeFromList("layout","standard",["standard","button_count","box_count","simple"])},_shouldShowFaces:function(){return"standard"===this._getLayout()&&this._getBoolAttribute("show-faces",!0)},_handleEdgeCommentDialogPresentation:function(e){if(this.isValid()){var t=i.createElement("span");this._commentSlave=this._createEdgeCommentWidget(e,t),this.dom.appendChild(t),this._commentSlave.process(),this._commentWidgetNode=t}},_createEdgeCommentWidget:function(e,t){var n={commentNode:t,externalUrl:e.externalURL,masterFrameName:e.masterFrameName,layout:this._getLayout(),relativeHeightOffset:this._getHeightOffset(e),relativeWidthOffset:this._getWidthOffset(e),anchorTargetX:parseFloat(e["query[anchorTargetX]"])+this._rootPadding.left,anchorTargetY:parseFloat(e["query[anchorTargetY]"])+this._rootPadding.top,width:parseFloat(e.width),height:parseFloat(e.height),paddingLeft:this._rootPadding.left};return new d(n)},_getHeightOffset:function(e){return parseFloat(e["anchorGeometry[y]"])+parseFloat(e["anchorPosition[y]"])+this._rootPadding.top},_getWidthOffset:function(e){var t=parseFloat(e["anchorPosition[x]"])+this._rootPadding.left,n=u.getPosition(this.dom).x,r=(this.dom.offsetWidth,u.getViewportInfo().width),i=parseFloat(e.width),o=!1;return f.getRtl()?o=n>i:n+i>r&&(o=!0),o&&(t+=parseFloat(e["anchorGeometry[x]"])-i),t},_getCommonEdgeCommentWidgetOpts:function(e,t){return{colorscheme:this._attr.colorscheme,commentNode:t,controllerID:e.controllerID,nodeImageURL:e.nodeImageURL,nodeRef:this._attr.ref,nodeTitle:e.nodeTitle,nodeURL:e.nodeURL,nodeSummary:e.nodeSummary,width:parseFloat(e.width),height:parseFloat(e.height),relativeHeightOffset:this._getHeightOffset(e),relativeWidthOffset:this._getWidthOffset(e),error:e.error,siderender:e.siderender,extended_social_context:e.extended_social_context,anchorTargetX:parseFloat(e["query[anchorTargetX]"])+this._rootPadding.left,anchorTargetY:parseFloat(e["query[anchorTargetY]"])+this._rootPadding.top}},_handleEdgeCommentDialogDismissal:function(){this._commentWidgetNode&&(this.dom.removeChild(this._commentWidgetNode),delete this._commentWidgetNode)},_handleEdgeCommentDialogHide:function(){this._commentWidgetNode&&(this._commentWidgetNode.style.display="none")},_handleEdgeCommentDialogShow:function(){this._commentWidgetNode&&(this._commentWidgetNode.style.display="block")}});s.exports=h}),l("sdk.XFBML.SendButtonFormWidget",["sdk.XFBML.EdgeCommentWidget","sdk.DOM","sdk.Event"],function(e,t,n,r,i){var o=t("sdk.XFBML.EdgeCommentWidget"),s=t("sdk.DOM"),a=t("sdk.Event"),l=o.extend({constructor:function(e){this.parent(e),s.addCss(this.dom,"fb_send_button_form_widget"),s.addCss(this.dom,e.colorscheme),s.addCss(this.dom,"undefined"!=typeof e.siderender&&e.siderender?"siderender":""),this._attr.nodeImageURL=e.nodeImageURL,this._attr.nodeRef=e.nodeRef,this._attr.nodeTitle=e.nodeTitle,this._attr.nodeURL=e.nodeURL,this._attr.nodeSummary=e.nodeSummary,this._attr.offsetX=e.relativeWidthOffset,this._attr.offsetY=e.relativeHeightOffset,this._attr.anchorTargetX=e.anchorTargetX,this._attr.anchorTargetY=e.anchorTargetY,this._attr.channel=this.getChannelUrl(),this._attr.controllerID=e.controllerID,this._attr.colorscheme=e.colorscheme,this._attr.error=e.error,this._attr.siderender=e.siderender,this._attr.extended_social_context=e.extended_social_context},_showLoader:!0,getUrlBits:function(){return{name:"send_button_form_shell",params:this._attr}},oneTimeSetup:function(){this.subscribe("xd.messageSent",c(this._onMessageSent,"bind",!0,this))},_onMessageSent:function(){a.fire("message.send",this._attr.nodeURL,this)}});i.exports=l}),l("sdk.XFBML.Like",["sdk.XFBML.EdgeWidget","sdk.XFBML.SendButtonFormWidget"],function(e,t,n,r,i){var o=t("sdk.XFBML.EdgeWidget"),s=t("sdk.XFBML.SendButtonFormWidget"),a=o.extend({getUrlBits:function(){return{name:"like",params:this._attr}},_createEdgeCommentWidget:function(e,t){if("send"in this._attr&&"widget_type"in e&&"send"==e.widget_type){var n=this._getCommonEdgeCommentWidgetOpts(e,t);return new s(n)}return this.parentCall("_createEdgeCommentWidget",e,t)},getIframeTitle:function(){return"Like this content on Facebook."}});i.exports=a}),l("sdk.XFBML.LiveStream",["sdk.XFBML.IframeWidget"],function(t,n,r,i,o){var s=n("sdk.XFBML.IframeWidget"),a=s.extend({_visibleAfter:"load",setupAndValidate:function(){return this._attr={app_id:this.getAttribute("event-app-id"),href:this.getAttribute("href",e.location.href),height:this._getPxAttribute("height",500),hideFriendsTab:this.getAttribute("hide-friends-tab"),redesigned:this._getBoolAttribute("redesigned-stream"),width:this._getPxAttribute("width",400),xid:this.getAttribute("xid","default"),always_post_to_friends:this._getBoolAttribute("always-post-to-friends"),via_url:this.getAttribute("via_url")},!0},getSize:function(){return{width:this._attr.width,height:this._attr.height}},getUrlBits:function(){var e=this._attr.redesigned?"live_stream_box":"livefeed";return this._getBoolAttribute("modern",!1)&&(e="live_stream"),{name:e,params:this._attr}}});o.exports=a}),l("sdk.XFBML.LoginButton",["sdk.Helper","IframePlugin"],function(e,t,n,r,i){var o=t("sdk.Helper"),s=t("IframePlugin"),a=s.extend({constructor:function(e,t,n,r){this.parent(e,t,n,r);var i=s.getVal(r,"on_login");i&&this.subscribe("login.status",function(e){o.invokeHandler(i,null,[e])})},getParams:function(){return{scope:"string",perms:"string",size:"string",login_text:"text",show_faces:"bool",max_rows:"string",show_login_face:"bool",registration_url:"url_maybe",auto_logout_link:"bool",one_click:"bool",show_banner:"bool"}}});i.exports=a}),l("sdk.XFBML.Name",["copyProperties","sdk.Data","escapeHTML","sdk.Event","sdk.XFBML.Element","sdk.Helper","Log","sdk.Runtime"],function(e,t,n,r,i){var o=t("copyProperties"),s=t("sdk.Data"),a=t("escapeHTML"),l=t("sdk.Event"),d=t("sdk.XFBML.Element"),u=t("sdk.Helper"),p=t("Log"),f=t("sdk.Runtime"),h=d.extend({process:function(){if(o(this,{_uid:this.getAttribute("uid"),_firstnameonly:this._getBoolAttribute("first-name-only"),_lastnameonly:this._getBoolAttribute("last-name-only"),_possessive:this._getBoolAttribute("possessive"),_reflexive:this._getBoolAttribute("reflexive"),_objective:this._getBoolAttribute("objective"),_linked:this._getBoolAttribute("linked",!0),_subjectId:this.getAttribute("subject-id")}),!this._uid)return p.error('"uid" is a required attribute for <fb:name>'),this.fire("render"),void 0;
var e=[];this._firstnameonly?e.push("first_name"):this._lastnameonly?e.push("last_name"):e.push("name"),this._subjectId&&(e.push("sex"),this._subjectId==f.getUserID()&&(this._reflexive=!0));var t;l.monitor("auth.statusChange",c(function(){return this.isValid()?(this._uid&&"loggedinuser"!=this._uid||(this._uid=f.getUserID()),this._uid&&(t=u.isUser(this._uid)?s._selectByIndex(e,"user","uid",this._uid):s._selectByIndex(["name","id"],"profile","id",this._uid),t.wait(c(function(e){this._subjectId==this._uid?this._renderPronoun(e[0]):this._renderOther(e[0]),this.fire("render")},"bind",!0,this))),void 0):(this.fire("render"),!0)},"bind",!0,this))},_renderPronoun:function(e){var t="",n=this._objective;if(this._subjectId&&(n=!0,this._subjectId===this._uid&&(this._reflexive=!0)),this._uid==f.getUserID()&&this._getBoolAttribute("use-you",!0))t=this._possessive?this._reflexive?"your own":"your":this._reflexive?"yourself":"you";else switch(e.sex){case"male":t=this._possessive?this._reflexive?"his own":"his":this._reflexive?"himself":n?"him":"he";break;case"female":t=this._possessive?this._reflexive?"her own":"her":this._reflexive?"herself":n?"her":"she";break;default:t=this._getBoolAttribute("use-they",!0)?this._possessive?this._reflexive?"their own":"their":this._reflexive?"themselves":n?"them":"they":this._possessive?this._reflexive?"his/her own":"his/her":this._reflexive?"himself/herself":n?"him/her":"he/she"}this._getBoolAttribute("capitalize",!1)&&(t=u.upperCaseFirstChar(t)),this.dom.innerHTML=t},_renderOther:function(e){var t="",n="";this._uid==f.getUserID()&&this._getBoolAttribute("use-you",!0)?t=this._reflexive?this._possessive?"your own":"yourself":this._possessive?"your":"you":e&&(null===e.first_name&&(e.first_name=""),null===e.last_name&&(e.last_name=""),this._firstnameonly&&void 0!==e.first_name?t=a(e.first_name):this._lastnameonly&&void 0!==e.last_name&&(t=a(e.last_name)),t||(t=a(e.name)),""!==t&&this._possessive&&(t+="'s")),t||(t=a(this.getAttribute("if-cant-see","Facebook User"))),t&&(this._getBoolAttribute("capitalize",!1)&&(t=u.upperCaseFirstChar(t)),n=e&&this._linked?u.getProfileLink(e,t,this.getAttribute("href",null)):t),this.dom.innerHTML=n}});i.exports=h}),l("sdk.XFBML.RecommendationsBar",["sdk.Arbiter","DOMEventListener","sdk.Event","sdk.XFBML.IframeWidget","resolveURI","sdk.Runtime"],function(t,n,r,s,a){var l=n("sdk.Arbiter"),d=n("DOMEventListener"),u=n("sdk.Event"),p=n("sdk.XFBML.IframeWidget"),f=n("resolveURI"),h=n("sdk.Runtime"),g=p.extend({getUrlBits:function(){return{name:"recommendations_bar",params:this._attr}},setupAndValidate:function(){function t(e,t){function n(){t(),i=null,r=c("Date","now",!1)}var r=0,i=null;return function(){if(!i){var t=c("Date","now",!1);e>t-r?i=o(n,e-(t-r)):n()}return!0}}function n(e){if(e.match(/^\d+(?:\.\d+)?%$/)){var t=Math.min(Math.max(parseInt(e,10),0),100);e=t/100}else"manual"!=e&&"onvisible"!=e&&(e="onvisible");return e}function r(e){return Math.max(parseInt(e,10)||30,10)}function s(e){return"left"==e||"right"==e?e:h.getRtl()?"left":"right"}this._attr={channel:this.getChannelUrl(),api_key:h.getClientID(),font:this.getAttribute("font"),colorscheme:this.getAttribute("colorscheme"),href:f(this.getAttribute("href")),side:s(this.getAttribute("side")),site:this.getAttribute("site"),action:this.getAttribute("action"),ref:this.getAttribute("ref"),max_age:this.getAttribute("max_age"),trigger:n(this.getAttribute("trigger","")),read_time:r(this.getAttribute("read_time")),num_recommendations:parseInt(this.getAttribute("num_recommendations"),10)||2},this._showLoader=!1,this.subscribe("iframe.onload",c(function(){var e=this.dom.children[0];e.className="fbpluginrecommendationsbar"+this._attr.side},"bind",!0,this));var a=c(function(){return d.remove(e,"scroll",a),d.remove(i.documentElement,"click",a),d.remove(i.documentElement,"mousemove",a),o(c(this.arbiterInform,"bind",!0,this,"platform/plugins/recommendations_bar/action",null,l.BEHAVIOR_STATE),1e3*this._attr.read_time),!0},"bind",!0,this);if(d.add(e,"scroll",a),d.add(i.documentElement,"click",a),d.add(i.documentElement,"mousemove",a),"manual"==this._attr.trigger){var p=c(function(e){return e==this._attr.href&&(u.unsubscribe("xfbml.recommendationsbar.read",p),this.arbiterInform("platform/plugins/recommendations_bar/trigger",null,l.BEHAVIOR_STATE)),!0},"bind",!0,this);u.subscribe("xfbml.recommendationsbar.read",p)}else{var g=t(500,c(function(){return this.calculateVisibility()&&(d.remove(e,"scroll",g),d.remove(e,"resize",g),this.arbiterInform("platform/plugins/recommendations_bar/trigger",null,l.BEHAVIOR_STATE)),!0},"bind",!0,this));d.add(e,"scroll",g),d.add(e,"resize",g),g()}this.visible=!1;var m=t(500,c(function(){return!this.visible&&this.calculateVisibility()?(this.visible=!0,this.arbiterInform("platform/plugins/recommendations_bar/visible")):this.visible&&!this.calculateVisibility()&&(this.visible=!1,this.arbiterInform("platform/plugins/recommendations_bar/invisible")),!0},"bind",!0,this));d.add(e,"scroll",m),d.add(e,"resize",m),m(),this.focused=!0;var _=c(function(){return this.focused=!this.focused,!0},"bind",!0,this);return d.add(e,"blur",_),d.add(e,"focus",_),this.resize_running=!1,this.animate=!1,this.subscribe("xd.signal_animation",c(function(){this.animate=!0},"bind",!0,this)),!0},getSize:function(){return{height:25,width:"recommend"==this._attr.action?140:96}},calculateVisibility:function(){var t=i.documentElement.clientHeight;if(!this.focused&&e.console&&e.console.firebug)return this.visible;switch(this._attr.trigger){case"manual":return!1;case"onvisible":var n=this.dom.getBoundingClientRect().top;return t>=n;default:var r=e.pageYOffset||i.body.scrollTop,o=i.documentElement.scrollHeight;return(r+t)/o>=this._attr.trigger}}});a.exports=g}),l("sdk.XFBML.Registration",["sdk.Auth","sdk.Helper","sdk.XFBML.IframeWidget","sdk.Runtime","UrlMap"],function(t,n,r,i,o){var s=n("sdk.Auth"),a=n("sdk.Helper"),l=n("sdk.XFBML.IframeWidget"),d=n("sdk.Runtime"),u=n("UrlMap"),p=l.extend({_visibleAfter:"immediate",_baseHeight:167,_fieldHeight:28,_skinnyWidth:520,_skinnyBaseHeight:173,_skinnyFieldHeight:52,setupAndValidate:function(){return this._attr={action:this.getAttribute("action"),border_color:this.getAttribute("border-color"),channel_url:this.getChannelUrl(),client_id:d.getClientID(),fb_only:this._getBoolAttribute("fb-only",!1),fb_register:this._getBoolAttribute("fb-register",!1),fields:this.getAttribute("fields"),height:this._getPxAttribute("height"),redirect_uri:this.getAttribute("redirect-uri",e.location.href),no_footer:this._getBoolAttribute("no-footer"),no_header:this._getBoolAttribute("no-header"),onvalidate:this.getAttribute("onvalidate"),width:this._getPxAttribute("width",600),target:this.getAttribute("target")},this._attr.onvalidate&&this.subscribe("xd.validate",c(function(e){var t=c("JSON","parse",!1,e.value),n=c(function(t){this.arbiterInform("Registration.Validation",{errors:t,id:e.id})},"bind",!0,this),r=a.executeFunctionByName(this._attr.onvalidate,t,n);r&&n(r)},"bind",!0,this)),this.subscribe("xd.authLogin",c(this._onAuthLogin,"bind",!0,this)),this.subscribe("xd.authLogout",c(this._onAuthLogout,"bind",!0,this)),!0},getSize:function(){return{width:this._attr.width,height:this._getHeight()}},_getHeight:function(){if(this._attr.height)return this._attr.height;var e;if(this._attr.fields)try{e=c("JSON","parse",!1,this._attr.fields)}catch(t){e=this._attr.fields.split(/,/)}else e=["name"];return this._attr.width<this._skinnyWidth?this._skinnyBaseHeight+e.length*this._skinnyFieldHeight:this._baseHeight+e.length*this._fieldHeight},getUrlBits:function(){return{name:"registration",params:this._attr}},getDefaultWebDomain:function(){return u.resolve("www",!0)},_onAuthLogin:function(){s.getAuthResponse()||s.getLoginStatus(),a.fireEvent("auth.login",this)},_onAuthLogout:function(){s.getAuthResponse()||s.getLoginStatus(),a.fireEvent("auth.logout",this)}});o.exports=p}),l("sdk.XFBML.SocialContext",["sdk.Event","sdk.XFBML.IframeWidget"],function(e,t,n,r,i){var o=t("sdk.Event"),s=t("sdk.XFBML.IframeWidget"),a=s.extend({setupAndValidate:function(){this.getAttribute("size","small");return this._attr={channel:this.getChannelUrl(),width:this._getPxAttribute("width",400),height:this._getPxAttribute("height",100),ref:this.getAttribute("ref"),size:this.getAttribute("size"),keywords:this.getAttribute("keywords"),urls:this.getAttribute("urls"),object_id:this.getAttribute("object_id")},this.subscribe("xd.social_context_stats",c(this._bubbleSocialContextStats,"bind",!0,this)),!0},_bubbleSocialContextStats:function(e){var t={pluginID:this.getAttribute("plugin-id"),socialContextPageIDs:c("JSON","parse",!1,e.social_context_page_ids)};o.fire("xfbml.social_context_stats",t)},getSize:function(){return{width:this._attr.width,height:this._attr.height}},getUrlBits:function(){return{name:"social_context",params:this._attr}}});i.exports=a}),l("legacy:fb.xfbml",["Assert","sdk.domReady","sdk.Event","FB","IframePlugin","PluginTags","wrapFunction","XFBML","sdk.XFBML.Comments","sdk.XFBML.CommentsCount","sdk.XFBML.ConnectBar","sdk.XFBML.Like","sdk.XFBML.LiveStream","sdk.XFBML.LoginButton","sdk.XFBML.Name","sdk.XFBML.RecommendationsBar","sdk.XFBML.Registration","sdk.XFBML.SocialContext"],function(t,n){var r=n("Assert"),s=n("sdk.domReady"),a=n("sdk.Event"),l=n("FB"),d=n("IframePlugin"),u=n("PluginTags"),p=n("wrapFunction"),f=n("XFBML"),h={comments:n("sdk.XFBML.Comments"),comments_count:n("sdk.XFBML.CommentsCount"),connect_bar:n("sdk.XFBML.ConnectBar"),like:n("sdk.XFBML.Like"),live_stream:n("sdk.XFBML.LiveStream"),login_button:n("sdk.XFBML.LoginButton"),name:n("sdk.XFBML.Name"),recommendations_bar:n("sdk.XFBML.RecommendationsBar"),registration:n("sdk.XFBML.Registration"),social_context:n("sdk.XFBML.SocialContext")};c(c("Object","keys",!1,u),"forEach",!0,function(e){f.registerTag({xmlns:"fb",localName:e.replace(/_/g,"-"),ctor:d.withParams(u[e])})}),c(c("Object","keys",!1,h),"forEach",!0,function(e){f.registerTag({xmlns:"fb",localName:e.replace(/_/g,"-"),ctor:h[e]})}),l.provide("XFBML",{parse:function(e){return r.maybeXfbml(e,"Invalid argument"),e&&9===e.nodeType&&(e=e.body),f.parse.apply(null,arguments)}}),l.provide("XFBML.RecommendationsBar",{markRead:function(t){a.fire("xfbml.recommendationsbar.read",t||e.location.href)}}),f.subscribe("parse",c(a.fire,"bind",!0,a,"xfbml.parse")),f.subscribe("render",c(a.fire,"bind",!0,a,"xfbml.render")),a.subscribe("init:post",function(e){e.xfbml&&o(p(c(s,"bind",!0,null,f.parse),"entry","init:post:xfbml.parse"),0)}),r.define("Xfbml",function(e){return(1===e.nodeType||9===e.nodeType)&&"string"==typeof e.nodeName});try{i.namespaces&&!i.namespaces.item.fb&&i.namespaces.add("fb")}catch(g){}},3)}.call({},window.inDapIF?parent.window:window)}catch(e){(new Image).src="http://www.facebook.com/common/scribe_endpoint.php?c=jssdk_error&m="+encodeURIComponent('{"error":"LOAD", "extra": {"name":"'+e.name+'","line":"'+(e.lineNumber||e.line)+'","script":"'+(e.fileName||e.sourceURL||e.script)+'","stack":"'+(e.stackTrace||e.stack)+'","message":"'+e.message+'"}}')}var app=new App;